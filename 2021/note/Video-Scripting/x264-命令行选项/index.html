<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>x264 命令行选项 - Atlanswer&#039;s blog</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Atlanswer&#039;s blog"><meta name="msapplication-TileImage" content="/img/favicon.ico"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Atlanswer&#039;s blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="x264 是 VideoLAN 等开发的自由开源软件库和命令行工具，用于将视频流转换为 H.264&amp;#x2F;MPEG-4 AVC 编码格式。 作为命令行工具，前端应用如 MeGUI 和 OKEGui 调用 x264.exe 来压缩视频；作为库，HandBrake 和 FFmpeg 等工具将 x264 集成其中。x264 代码仓库在 https:&amp;#x2F;&amp;#x2F;code.videolan.org&amp;#x2F;videolan&amp;#x2F;x2"><meta property="og:type" content="blog"><meta property="og:title" content="x264 命令行选项"><meta property="og:url" content="https://waferlab.tk/2021/note/Video-Scripting/x264-%E5%91%BD%E4%BB%A4%E8%A1%8C%E9%80%89%E9%A1%B9/"><meta property="og:site_name" content="Atlanswer&#039;s blog"><meta property="og:description" content="x264 是 VideoLAN 等开发的自由开源软件库和命令行工具，用于将视频流转换为 H.264&amp;#x2F;MPEG-4 AVC 编码格式。 作为命令行工具，前端应用如 MeGUI 和 OKEGui 调用 x264.exe 来压缩视频；作为库，HandBrake 和 FFmpeg 等工具将 x264 集成其中。x264 代码仓库在 https:&amp;#x2F;&amp;#x2F;code.videolan.org&amp;#x2F;videolan&amp;#x2F;x2"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://waferlab.tk/img/og_image.png"><meta property="article:published_time" content="2021-12-14T16:00:00.000Z"><meta property="article:modified_time" content="2021-12-21T16:00:00.000Z"><meta property="article:author" content="Atlanswer"><meta property="article:tag" content="x264"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://waferlab.tk/2021/note/Video-Scripting/x264-%E5%91%BD%E4%BB%A4%E8%A1%8C%E9%80%89%E9%A1%B9/"},"headline":"x264 命令行选项","image":["https://waferlab.tk/img/og_image.png"],"datePublished":"2021-12-14T16:00:00.000Z","dateModified":"2021-12-21T16:00:00.000Z","author":{"@type":"Person","name":"Atlanswer"},"publisher":{"@type":"Organization","name":"Atlanswer's blog","logo":{"@type":"ImageObject","url":"https://waferlab.tk/img/favicon.ico"}},"description":"x264 是 VideoLAN 等开发的自由开源软件库和命令行工具，用于将视频流转换为 H.264&#x2F;MPEG-4 AVC 编码格式。 作为命令行工具，前端应用如 MeGUI 和 OKEGui 调用 x264.exe 来压缩视频；作为库，HandBrake 和 FFmpeg 等工具将 x264 集成其中。x264 代码仓库在 https:&#x2F;&#x2F;code.videolan.org&#x2F;videolan&#x2F;x2"}</script><link rel="canonical" href="https://waferlab.tk/2021/note/Video-Scripting/x264-%E5%91%BD%E4%BB%A4%E8%A1%8C%E9%80%89%E9%A1%B9/"><link rel="icon" href="/img/favicon.ico"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/solarized-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;700&amp;family=Roboto+Mono&amp;family=Roboto:wght@400;700"><link rel="stylesheet" href="/css/default.css"><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><meta name="generator" content="Hexo 5.4.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/favicon.ico" alt="Atlanswer&#039;s blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/about">About</a><a class="navbar-item" target="_blank" rel="noopener" href="https://git.waferlab.tk">GitLab</a></div><div class="navbar-end"><a class="navbar-item is-hidden-tablet catalogue" title="Catalogue" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2021-12-14T16:00:00.000Z" title="12/14/2021, 4:00:00 PM">2021-12-15</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-12-21T16:00:00.000Z" title="12/21/2021, 4:00:00 PM">2021-12-22</time></span><span class="level-item"> Atlanswer </span><span class="level-item"><i class="fas fa-folder-open" style="margin-right:0.25rem"></i><a class="link-muted" href="/categories/Note/">Note</a><span> / </span><a class="link-muted" href="/categories/Note/Video-Scripting/">Video Scripting</a></span></div></div><h1 class="title is-3 is-size-4-mobile">x264 命令行选项</h1><div class="content"><p><code>x264</code> 是 <a target="_blank" rel="noopener" href="https://www.videolan.org/developers/x264.html">VideoLAN</a> 等开发的自由开源软件库和命令行工具，用于将视频流转换为 H.264/MPEG-4 AVC 编码格式。</p>
<p>作为命令行工具，前端应用如 MeGUI 和 OKEGui 调用 <code>x264.exe</code> 来压缩视频；作为库，HandBrake 和 FFmpeg 等工具将 <code>x264</code> 集成其中。<code>x264</code> 代码仓库在 <a target="_blank" rel="noopener" href="https://code.videolan.org/videolan/x264">https://code.videolan.org/videolan/x264</a></p>
<p><code>x264</code> 似乎没有官方在线文档，除了查看 <code>--help</code>，可参考</p>
<ul>
<li><a target="_blank" rel="noopener" href="http://www.chaneru.com/Roku/HLS/X264_Settings.htm">http://www.chaneru.com/Roku/HLS/X264_Settings.htm</a><span id="more"></span></li>
<li><a target="_blank" rel="noopener" href="https://avidemux.org/admWiki/doku.php?id=tutorial:h.264">https://avidemux.org/admWiki/doku.php?id=tutorial:h.264</a></li>
<li><a target="_blank" rel="noopener" href="https://www.digital-digest.com/articles/x264_options_page1.html">https://www.digital-digest.com/articles/x264_options_page1.html</a></li>
<li><a target="_blank" rel="noopener" href="https://sites.google.com/site/linuxencoding/x264-ffmpeg-mapping">https://sites.google.com/site/linuxencoding/x264-ffmpeg-mapping</a></li>
<li><a target="_blank" rel="noopener" href="http://www.mplayerhq.hu/DOCS/HTML/en/menc-feat-x264.html#menc-feat-x264-encoding-options">http://www.mplayerhq.hu/DOCS/HTML/en/menc-feat-x264.html#menc-feat-x264-encoding-options</a></li>
</ul>
<h2 id="advanced-video-coding">Advanced Video Coding</h2>
<p>Advanced Video Coding (AVC)，又称 H.264 或 MPEG-4 Part 10, AVC，是目前最流行的视频格式，最早于 2003 年标准化。AVC 的优势在于最广泛的支持，使用 AVC 编码的视频几乎可以在任何设备上播放。但随着技术进步，AVC 已不适合编码 4K 及以上分辨率或具备 HDR 的视频。</p>
<h3 id="功能">功能</h3>
<h4 id="帧类型">帧类型</h4>
<p>视频压缩技术可利用其他帧的信息来压缩某一帧。被其他帧用作参考的帧称为参考帧（reference frame）。用于根据帧在视频中的位置，压缩算法将为每帧分配一个帧类型（picture/frame types），主要分为 <strong>I</strong>、<strong>P</strong> 和 <strong>B</strong> 帧：</p>
<ul>
<li><strong>I</strong> 帧（intra-coded picture）是一张完整的图片，压缩率最低，但不需要参考其他任何帧来解码，在播放跳转时速度最快</li>
<li><strong>P</strong> 帧（predicted picture）参考出现在其之前的帧，仅保存该帧与参考帧之间的不同之处</li>
<li><strong>B</strong> 帧（bidirectional predicted picture）同时参考在其之前和之后的帧</li>
</ul>
<h4 id="gop">GOP</h4>
<p>IPB 帧按顺序的组合称作图像组（group of picture, GOP）。一个 GOP 以 I 帧开始，其中分布 P 和 B 帧。一个 GOP 应为可播放的单元，一个视频由各 GOP 顺序连接而成。GOP 结构可由 N 和 M 两个参数描述，GOP 大小 N 表示 GOP 开始 I 帧与下一个 GOP 开始的 I 帧之间的距离，M 表示相邻两个锚点帧（可以是 I 或 P 帧）之间的距离，或者表示为两个锚点帧之间 B 帧的最大数量。</p>
<p>GOP 分为 open GOP 和 closed GOP，参考<a target="_blank" rel="noopener" href="https://streaminglearningcenter.com/blogs/open-and-closed-gops-all-you-need-to-know.html">这里</a>。open GOP 允许 GOP 内的帧参考该 GOP 外的帧；closed GOP 中，帧不会参考其他 GOP 的帧。两个相邻的 IDR 帧将定义一个 closed GOP，这也就意味着，如果所有 I 帧都是 IDR 帧，则所有 GOP 都是 closed GOP；反之如果所有 I 帧都不是 IDR 帧，则有些 GOP 可能为 open GOP。</p>
<p>open GOP 理论上编码效率更高，<code>x264</code> 默认使用 closed GOP，<code>x265</code> 默认使用 open GOP。由于 I 帧一般都出现在场景转换处，因此 open GOP 实际上带来的提升很小。</p>
<h4 id="宏块">宏块</h4>
<p>帧通常被分割为若干宏块（macroblock），每个宏块对应一种预测类型，即节点宏块（intra macroblock）、预测宏块（predicted macroblock）和前后预测宏块（bi-predicted macroblock）。</p>
<ul>
<li>I 帧仅包含节点宏块</li>
<li>P 帧可包含节点宏块和预测宏块</li>
<li>B 帧可包含节点宏块、预测宏块和前后预测宏块</li>
</ul>
<p>宏块是视频编码的单元，对应一次线性块变换，在 AVC 中为离散余弦变换（discrete cosine transform, DCT），在 HEVC 中该概念发展为编码树单元（coding tree unit, CTU）。一个宏块被分为变换块作为 DCT 的输入，例如，在第一个使用宏块的编码 H.261 中，DCT 变换块大小为 8×8，对 YCbCr 4:2:0 进行编码，一个宏块大小为 16×16，包含 16×16 亮度平面采样点和 8×8 色度平面采样点，则该宏块被分为 4 个 Y 块，1 个 Cb 块和 1 个 Cr 块。</p>
<p>视频压缩的粒度由分块（slice）决定，一个分块是在空间上与帧内其他分块独立的区域，在编码时分块间独立。</p>
<h4 id="idr-帧">IDR 帧</h4>
<p>又称关键帧（keyframe），Instantaneous decoding refresh (IDR) 帧的所有分块都是 I 分块或 SI 分块，也就是说 IDR 帧是一种特殊的 I 帧。当解码进行到 IDR 帧时，所有参考帧都被忽略，即 IDR 帧解码后，后续帧的解码不再依靠 IDR 帧之前的帧。一个 GOP 的第一帧是 IDR 帧。</p>
<p>IDR 帧可以立即刷新参考帧缓冲，能让视频跳转更丝滑。</p>
<p>根据定义，I 帧不一定都是 IDR 帧，但在压缩视频时，每个 I 帧都应称为 IDR 帧，即不允许 non-IDR 帧。</p>
<h4 id="帧和场">帧和场</h4>
<p>单词 frame 和 picture 一般意义相同，但 picture 是更广泛的概念。一个 picture 可指一个帧（frame）或一个场（field）：</p>
<ul>
<li>帧（frame）指一张完整的图片</li>
<li>场（field）是完整画面一半的扫描线（scan line）的组合</li>
</ul>
<p>使用模拟信号的视频可使用市电做时钟同步，但早期的视频播放媒介 CRT 显示器受频宽限制，无法按 60 Hz 或 50 Hz 的市电频率刷新完整的图像；若按半频即 30 Hz 或 25 Hz 播放，帧刷新又太慢，使得电子束扫描到图像下方时上方的像素已经变暗，导致观众观感画面闪烁。隔行扫描（interlaced scan）技术被用于解决这类问题。</p>
<h5 id="隔行扫描">隔行扫描</h5>
<p>隔行扫描技术仅用于扫描式显示设备例如 CRT 电视。阴极射线从上到下一行一行扫描激发荧光来显示图像，一行像素即一条扫描线。逐行扫描即依次显示所有扫描线，而隔行扫描每次只传输并显示一半的扫描线，即场。一个场包含第 1、3、5... 行，即所有奇数行的扫描线，称为奇数场或前场；另一个场包含第 2、4、6... 行，即所有偶数行的扫描线，称为偶数场或后场。</p>
<p>隔行扫描增加了观感帧率，减少视觉闪烁。例如使用 PAL 制式，市电频率为 50 Hz 的电视，可以在有限的频宽内显示每秒 50 个场。NTSC 和 PAL 制式均先显示奇数场，再显示偶数场。</p>
<p>值得注意的是，隔行扫描并非是逐行扫描画面的扫描线按奇偶分为两份。前场和后场在画面空间上互补组成一幅完整的图像，即 PAL 制式下每 1/25 秒电子束点亮显示器所有的像素各一次，但时间上两者对应的内容相差 1/50 秒。隔行扫描技术需要应用在录制、传输和显示等环节，在摄像机录制视频时已经在使用隔行的方式保存视频，因此前后场的组合并非是时间上相同的图像，画面中移动的部分会产生横向的锯齿状线条；如果两场刚好是场景交换之处，则会组成两个场景同时出现的鬼影画面。</p>
<h4 id="帧间预测">帧间预测</h4>
<p>帧间预测（inter-picture prediction）可参考复数个帧：</p>
<ul>
<li>允许 P 和 B 帧拥有更多参考帧，显著降低快速重复闪光、反复剪切或遮挡场景的码率</li>
<li>运动补偿算法可使用可变块大小，一个块最大为 16×16，最小为 4×4，亮度平面预测快大小可以是 16×16、16×8、8×16、8×8、8×4、4×8、4×4，色度平面预测块根据色度抽样设置减小大小。一个宏块内，可以有不同大小的预测快组合</li>
<li>可为每个宏块分配复数个运动矢量</li>
<li>B 帧内可使用任意宏块类型，例如节点宏块</li>
<li>使用六阶数字滤波器推测亮度平面半像素采样点以得到更锐利的亚像素运动补偿效果，1/4 像素的运动由半像素的线性插值得到。运动补偿可精确到 1/4 像素，对 4:2:0 采样的色度平面，这意味着运动补偿可达到 1/8 测度采样点尺寸</li>
<li>加权运动预测使编码器能为运动补偿加权或做偏移，对淡入、淡出和淡入淡出转换等场景提供性能提升</li>
</ul>
<h4 id="帧内编码">帧内编码</h4>
<p>帧内编码可使用相邻块边缘做空间预测，亮度平面预测块大小可为 16×16、8×8 或者 4×4，每个宏块内只能使用其中一种。</p>
<p>引入整数离散余弦变换（integer discrete cosine transform, integer DCT），一种 DCT 的整数近似。</p>
<p>允许无损宏块编码。</p>
<p>灵活的隔行扫描视频编码。隔行扫描图像可有三种编码方式：将两个场合并为一个帧进行编码、两个场分别编码、将两个场合并为一个帧，但在宏块级别将一个帧宏块分为两个场宏块进行编码。前两种方式被称为图像自适应帧-场编码（picture-adaptive frame-field coding, PAFF or PicAFF），第三种方法被称为宏块自适应帧-场编码（macroblock-adaptive frame-field coding,MBAFF）：</p>
<ul>
<li>PAFF：对运动图像，将两个场分别编码更好，对非运动图像，将两场合并编码效果更好，PAFF 会根据整个图像的特点选择帧编码或是场编码</li>
<li>MBAFF：当图像同时存在运动区域和非运动区域时，MBAFF 合并两个场为一帧进行编码，对一个帧宏块（16×16），选择帧编码或者将其分为两个场宏块（8×16）进行场编码中更好的一个</li>
</ul>
<h3 id="profiles">Profiles</h3>
<p>AVC 档次（profiles）定义了编码器使用的算法和约束的组合，对应解码器需要具备的能力和额外的视频功能，如场编码、10 bits 像素等。档次越高，编码器使用的技术越复杂，对解码器的要求越高，可能带来更高的压缩率。</p>
<p>参考 <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Advanced_Video_Coding#Feature_support_in_particular_profiles">Wikipedia</a></p>
<h3 id="levels">Levels</h3>
<p>AVC 级别（levels）在档次的基础上增加额外的限制，标志着解码器在某一档次下应具有的解码性能。某一档次下的某一级别说明了其最高分辨率、帧率和码率。</p>
<p>参考 <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Advanced_Video_Coding#Levels">Wikipedia</a>，例如，级别 4.2 下，视频不能超过 2048×1080@60，50000 kbits/s。</p>
<h2 id="x264-命令行参数"><code>x264</code> 命令行参数</h2>
<p>为方便这里贴出 <code>--fullhelp</code></p>
<!-- /* cSpell:disable */ -->
<details>
  <summary>
    <code>`x264.exe --fullhelp`</code>
  </summary>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br></pre></td><td class="code"><pre><span class="line">x264 core:<span class="number">142</span> r2431<span class="operator">+</span><span class="number">42</span> c69a006 tMod [<span class="number">10</span><span class="operator">-</span>bit<span class="variable">@all</span> X86_64]</span><br><span class="line">Syntax: x264 [options] <span class="operator">-</span>o outfile infile</span><br><span class="line"></span><br><span class="line">Infile can be raw (<span class="keyword">in</span> which <span class="keyword">case</span> resolution <span class="keyword">is</span> required),</span><br><span class="line">  <span class="keyword">or</span> YUV4MPEG (<span class="operator">*</span>.y4m),</span><br><span class="line">  <span class="keyword">or</span> Avisynth if compiled <span class="keyword">with</span> support (yes).</span><br><span class="line">  <span class="keyword">or</span> libav<span class="operator">*</span> formats if compiled <span class="keyword">with</span> lavf support (yes) <span class="keyword">or</span> ffms support (yes).</span><br><span class="line">Outfile type <span class="keyword">is</span> selected <span class="keyword">by</span> filename:</span><br><span class="line"> <span class="number">.264</span> <span class="operator">-</span><span class="operator">&gt;</span> Raw bytestream</span><br><span class="line"> .mkv <span class="operator">-</span><span class="operator">&gt;</span> Matroska</span><br><span class="line"> .flv <span class="operator">-</span><span class="operator">&gt;</span> Flash Video</span><br><span class="line"> .mp4 <span class="operator">-</span><span class="operator">&gt;</span> MP4 if compiled <span class="keyword">with</span> GPAC <span class="keyword">or</span> L<span class="operator">-</span>SMASH support (lsmash)</span><br><span class="line"> <span class="number">.3</span>gp <span class="operator">-</span><span class="operator">&gt;</span> MP4 (branded <span class="string">&#x27;3gp6&#x27;</span>)</span><br><span class="line"> <span class="number">.3</span>g2 <span class="operator">-</span><span class="operator">&gt;</span> MP4 (branded <span class="string">&#x27;3gp6&#x27;</span> <span class="keyword">and</span> <span class="string">&#x27;3g2a&#x27;</span>)</span><br><span class="line"> .mov <span class="keyword">or</span> .qt <span class="operator">-</span><span class="operator">&gt;</span> QuickTime File Format</span><br><span class="line"> .avi <span class="operator">-</span><span class="operator">&gt;</span> AVI if compiled <span class="keyword">with</span> support (yes)</span><br><span class="line">Output bit depth: <span class="number">10</span> (configured <span class="keyword">at</span> compile <span class="type">time</span>)</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line"></span><br><span class="line">  <span class="operator">-</span>h, <span class="comment">--help                  List basic options</span></span><br><span class="line">      <span class="comment">--longhelp              List more options</span></span><br><span class="line">      <span class="comment">--fullhelp              List all options</span></span><br><span class="line"></span><br><span class="line">Example usage:</span><br><span class="line"></span><br><span class="line">      Constant quality mode:</span><br><span class="line">            x264 <span class="comment">--crf 24 -o &lt;output&gt; &lt;input&gt;</span></span><br><span class="line"></span><br><span class="line">      Two<span class="operator">-</span>pass <span class="keyword">with</span> a bitrate <span class="keyword">of</span> <span class="number">1000</span>kbps:</span><br><span class="line">            x264 <span class="comment">--pass 1 --bitrate 1000 -o &lt;output&gt; &lt;input&gt;</span></span><br><span class="line">            x264 <span class="comment">--pass 2 --bitrate 1000 -o &lt;output&gt; &lt;input&gt;</span></span><br><span class="line"></span><br><span class="line">      Lossless:</span><br><span class="line">            x264 <span class="comment">--qp 0 -o &lt;output&gt; &lt;input&gt;</span></span><br><span class="line"></span><br><span class="line">      Maximum PSNR <span class="keyword">at</span> the cost <span class="keyword">of</span> speed <span class="keyword">and</span> visual quality:</span><br><span class="line">            x264 <span class="comment">--preset placebo --tune psnr -o &lt;output&gt; &lt;input&gt;</span></span><br><span class="line"></span><br><span class="line">      Constant bitrate <span class="keyword">at</span> <span class="number">1000</span>kbps <span class="keyword">with</span> a <span class="number">2</span> <span class="keyword">second</span><span class="operator">-</span>buffer:</span><br><span class="line">            x264 <span class="comment">--vbv-bufsize 2000 --bitrate 1000 -o &lt;output&gt; &lt;input&gt;</span></span><br><span class="line"></span><br><span class="line">Presets:</span><br><span class="line"></span><br><span class="line">      <span class="comment">--device &lt;string&gt;       Force the limits of a device(with latest driver/firmware)</span></span><br><span class="line">                                  Overrides <span class="keyword">all</span> settings <span class="keyword">over</span> the limits.</span><br><span class="line">                                  Multiple devices <span class="keyword">are</span> separated <span class="keyword">by</span> commas.</span><br><span class="line">                                  Auto resize <span class="keyword">not</span> implemented.</span><br><span class="line">      <span class="comment">--profile &lt;string&gt;      Force the limits of an H.264 profile</span></span><br><span class="line">                                  Overrides <span class="keyword">all</span> settings.</span><br><span class="line">                                  <span class="operator">-</span> high10:</span><br><span class="line">                                    <span class="keyword">No</span> lossless.</span><br><span class="line">                                    Support <span class="keyword">for</span> bit depth <span class="number">8</span><span class="number">-10.</span></span><br><span class="line">                                  <span class="operator">-</span> high422:</span><br><span class="line">                                    <span class="keyword">No</span> lossless.</span><br><span class="line">                                    Support <span class="keyword">for</span> bit depth <span class="number">8</span><span class="number">-10.</span></span><br><span class="line">                                    Support <span class="keyword">for</span> <span class="number">4</span>:<span class="number">2</span>:<span class="number">0</span><span class="operator">/</span><span class="number">4</span>:<span class="number">2</span>:<span class="number">2</span> chroma subsampling.</span><br><span class="line">                                  <span class="operator">-</span> high444:</span><br><span class="line">                                    Support <span class="keyword">for</span> bit depth <span class="number">8</span><span class="number">-10.</span></span><br><span class="line">                                    Support <span class="keyword">for</span> <span class="number">4</span>:<span class="number">2</span>:<span class="number">0</span><span class="operator">/</span><span class="number">4</span>:<span class="number">2</span>:<span class="number">2</span><span class="operator">/</span><span class="number">4</span>:<span class="number">4</span>:<span class="number">4</span> chroma subsampling.</span><br><span class="line">      <span class="comment">--profile-force         Do not automatically decrease profile settings</span></span><br><span class="line">      <span class="comment">--preset &lt;string&gt;       Use a preset to select encoding settings [medium]</span></span><br><span class="line">                                  Overridden <span class="keyword">by</span> <span class="keyword">user</span> settings.</span><br><span class="line">                                  <span class="operator">-</span> ultrafast:</span><br><span class="line">                                    <span class="comment">--no-8x8dct --aq-mode 0 --b-adapt 0</span></span><br><span class="line">                                    <span class="comment">--bframes 0 --no-cabac --no-deblock</span></span><br><span class="line">                                    <span class="comment">--no-mbtree --me dia --no-mixed-refs</span></span><br><span class="line">                                    <span class="comment">--partitions none --rc-lookahead 0 --ref 1</span></span><br><span class="line">                                    <span class="comment">--scenecut 0 --subme 0 --trellis 0</span></span><br><span class="line">                                    <span class="comment">--no-weightb --weightp 0</span></span><br><span class="line">                                  <span class="operator">-</span> superfast:</span><br><span class="line">                                    <span class="comment">--no-mbtree --me dia --no-mixed-refs</span></span><br><span class="line">                                    <span class="comment">--partitions i8x8,i4x4 --rc-lookahead 0</span></span><br><span class="line">                                    <span class="comment">--ref 1 --subme 1 --trellis 0 --weightp 1</span></span><br><span class="line">                                  <span class="operator">-</span> veryfast:</span><br><span class="line">                                    <span class="comment">--no-mixed-refs --rc-lookahead 10</span></span><br><span class="line">                                    <span class="comment">--ref 1 --subme 2 --trellis 0 --weightp 1</span></span><br><span class="line">                                  <span class="operator">-</span> faster:</span><br><span class="line">                                    <span class="comment">--no-mixed-refs --rc-lookahead 20</span></span><br><span class="line">                                    <span class="comment">--ref 2 --subme 4 --weightp 1</span></span><br><span class="line">                                  <span class="operator">-</span> fast:</span><br><span class="line">                                    <span class="comment">--rc-lookahead 30 --ref 2 --subme 6</span></span><br><span class="line">                                    <span class="comment">--weightp 1</span></span><br><span class="line">                                  <span class="operator">-</span> medium:</span><br><span class="line">                                    <span class="keyword">Default</span> settings apply.</span><br><span class="line">                                  <span class="operator">-</span> slow:</span><br><span class="line">                                    <span class="comment">--b-adapt 2 --direct auto --me umh</span></span><br><span class="line">                                    <span class="comment">--rc-lookahead 50 --ref 5 --subme 8</span></span><br><span class="line">                                  <span class="operator">-</span> slower:</span><br><span class="line">                                    <span class="comment">--b-adapt 2 --direct auto --me umh</span></span><br><span class="line">                                    <span class="comment">--partitions all --rc-lookahead 60</span></span><br><span class="line">                                    <span class="comment">--ref 8 --subme 9 --trellis 2</span></span><br><span class="line">                                  <span class="operator">-</span> veryslow:</span><br><span class="line">                                    <span class="comment">--b-adapt 2 --bframes 8 --direct auto</span></span><br><span class="line">                                    <span class="comment">--me umh --merange 24 --partitions all</span></span><br><span class="line">                                    <span class="comment">--ref 16 --subme 10 --trellis 2</span></span><br><span class="line">                                    <span class="comment">--rc-lookahead 60</span></span><br><span class="line">                                  <span class="operator">-</span> placebo:</span><br><span class="line">                                    <span class="comment">--bframes 16 --b-adapt 2 --direct auto</span></span><br><span class="line">                                    <span class="comment">--slow-firstpass --no-fast-pskip</span></span><br><span class="line">                                    <span class="comment">--me tesa --merange 24 --partitions all</span></span><br><span class="line">                                    <span class="comment">--rc-lookahead 60 --ref 16 --subme 11</span></span><br><span class="line">                                    <span class="comment">--trellis 2</span></span><br><span class="line">      <span class="comment">--tune &lt;string&gt;         Tune the settings for a particular type of source</span></span><br><span class="line">                              <span class="keyword">or</span> situation</span><br><span class="line">                                  Overridden <span class="keyword">by</span> <span class="keyword">user</span> settings.</span><br><span class="line">                                  Multiple tunings <span class="keyword">are</span> separated <span class="keyword">by</span> commas.</span><br><span class="line">                                  <span class="keyword">Only</span> <span class="keyword">one</span> psy tuning can be used <span class="keyword">at</span> a time.</span><br><span class="line">                                  <span class="operator">-</span> film (psy tuning):</span><br><span class="line">                                    <span class="comment">--deblock -1:-1 --psy-rd &lt;unset&gt;:0.15</span></span><br><span class="line">                                  <span class="operator">-</span> animation (psy tuning):</span><br><span class="line">                                    <span class="comment">--bframes &#123;+2&#125; --deblock 1:1</span></span><br><span class="line">                                    <span class="comment">--psy-rd 0.4:&lt;unset&gt; --aq-strength 0.6</span></span><br><span class="line">                                    <span class="comment">--ref &#123;Double if &gt;1 else 1&#125;</span></span><br><span class="line">                                  <span class="operator">-</span> touhou (psy tuning):</span><br><span class="line">                                    <span class="comment">--aq-strength 1.3 --deblock -1:-1</span></span><br><span class="line">                                    <span class="comment">--partitions &#123;p4x4 if p8x8 set&#125;</span></span><br><span class="line">                                    <span class="comment">--psy-rd &lt;unset&gt;:0.2</span></span><br><span class="line">                                    <span class="comment">--ref &#123;Double if &gt;1 else 1&#125;</span></span><br><span class="line">                                  <span class="operator">-</span> grain (psy tuning):</span><br><span class="line">                                    <span class="comment">--aq-strength 0.5 --no-dct-decimate</span></span><br><span class="line">                                    <span class="comment">--deadzone-inter 6 --deadzone-intra 6</span></span><br><span class="line">                                    <span class="comment">--deblock -2:-2 --ipratio 1.1 </span></span><br><span class="line">                                    <span class="comment">--pbratio 1.1 --psy-rd &lt;unset&gt;:0.25</span></span><br><span class="line">                                    <span class="comment">--qcomp 0.8</span></span><br><span class="line">                                  <span class="operator">-</span> stillimage (psy tuning):</span><br><span class="line">                                    <span class="comment">--aq-strength 1.2 --deblock -3:-3</span></span><br><span class="line">                                    <span class="comment">--psy-rd 2.0:0.7</span></span><br><span class="line">                                  <span class="operator">-</span> psnr (psy tuning):</span><br><span class="line">                                    <span class="comment">--aq-mode 0 --no-psy</span></span><br><span class="line">                                  <span class="operator">-</span> ssim (psy tuning):</span><br><span class="line">                                    <span class="comment">--aq-mode 2 --no-psy</span></span><br><span class="line">                                  <span class="operator">-</span> fastdecode:</span><br><span class="line">                                    <span class="comment">--no-cabac --no-deblock --no-weightb</span></span><br><span class="line">                                    <span class="comment">--weightp 0</span></span><br><span class="line">                                  <span class="operator">-</span> zerolatency:</span><br><span class="line">                                    <span class="comment">--bframes 0 --force-cfr --no-mbtree</span></span><br><span class="line">                                    <span class="comment">--sync-lookahead 0 --sliced-threads</span></span><br><span class="line">                                    <span class="comment">--rc-lookahead 0</span></span><br><span class="line">      <span class="comment">--slow-firstpass        Don&#x27;t force these faster settings with --pass 1:</span></span><br><span class="line">                                  <span class="comment">--no-8x8dct --me dia --partitions none</span></span><br><span class="line">                                  <span class="comment">--ref 1 --subme &#123;2 if &gt;2 else unchanged&#125;</span></span><br><span class="line">                                  <span class="comment">--trellis 0 --fast-pskip</span></span><br><span class="line"></span><br><span class="line">Frame<span class="operator">-</span>type options:</span><br><span class="line"></span><br><span class="line">  <span class="operator">-</span>I, <span class="comment">--keyint &lt;integer or &quot;infinite&quot;&gt; Maximum GOP size [250]</span></span><br><span class="line">  <span class="operator">-</span>i, <span class="comment">--min-keyint &lt;integer&gt;  Minimum GOP size [auto]</span></span><br><span class="line">      <span class="comment">--no-scenecut           Disable adaptive I-frame decision</span></span><br><span class="line">      <span class="comment">--scenecut &lt;integer&gt;    How aggressively to insert extra I-frames [40]</span></span><br><span class="line">      <span class="comment">--intra-refresh         Use Periodic Intra Refresh instead of IDR frames</span></span><br><span class="line">  <span class="operator">-</span>b, <span class="comment">--bframes &lt;integer&gt;     Number of B-frames between I and P [3]</span></span><br><span class="line">      <span class="comment">--b-adapt &lt;integer&gt;     Adaptive B-frame decision method [1]</span></span><br><span class="line">                                  Higher <span class="keyword">values</span> may lower threading efficiency.</span><br><span class="line">                                  <span class="operator">-</span> <span class="number">0</span>: Disabled</span><br><span class="line">                                  <span class="operator">-</span> <span class="number">1</span>: Fast</span><br><span class="line">                                  <span class="operator">-</span> <span class="number">2</span>: Optimal (slow <span class="keyword">with</span> high <span class="comment">--bframes)</span></span><br><span class="line">      <span class="comment">--b-bias &lt;integer&gt;      Influences how often B-frames are used [0]</span></span><br><span class="line">      <span class="comment">--b-pyramid &lt;string&gt;    Keep some B-frames as references [normal]</span></span><br><span class="line">                                  <span class="operator">-</span> <span class="keyword">none</span>: Disabled</span><br><span class="line">                                  <span class="operator">-</span> strict: Strictly hierarchical pyramid</span><br><span class="line">                                  <span class="operator">-</span> normal: Non<span class="operator">-</span>strict (<span class="keyword">not</span> Blu<span class="operator">-</span>ray compatible)</span><br><span class="line">      <span class="comment">--open-gop              Use recovery points to close GOPs</span></span><br><span class="line">                              <span class="keyword">Only</span> available <span class="keyword">with</span> b<span class="operator">-</span>frames</span><br><span class="line">      <span class="comment">--no-cabac              Disable CABAC</span></span><br><span class="line">  <span class="operator">-</span>r, <span class="comment">--ref &lt;integer&gt;         Number of reference frames [3]</span></span><br><span class="line">      <span class="comment">--no-deblock            Disable loop filter</span></span><br><span class="line">  <span class="operator">-</span>f, <span class="comment">--deblock &lt;alpha:beta&gt;  Loop filter parameters [0:0]</span></span><br><span class="line">      <span class="comment">--slices &lt;integer&gt;      Number of slices per frame; forces rectangular</span></span><br><span class="line">                              slices <span class="keyword">and</span> <span class="keyword">is</span> overridden <span class="keyword">by</span> other slicing options</span><br><span class="line">      <span class="comment">--slices-max &lt;integer&gt;  Absolute maximum slices per frame; overrides</span></span><br><span class="line">                              slice<span class="operator">-</span>max<span class="operator">-</span>size<span class="operator">/</span>slice<span class="operator">-</span>max<span class="operator">-</span>mbs <span class="keyword">when</span> necessary</span><br><span class="line">      <span class="comment">--slice-max-size &lt;integer&gt; Limit the size of each slice in bytes</span></span><br><span class="line">      <span class="comment">--slice-max-mbs &lt;integer&gt; Limit the size of each slice in macroblocks (max)</span></span><br><span class="line">      <span class="comment">--slice-min-mbs &lt;integer&gt; Limit the size of each slice in macroblocks (min)</span></span><br><span class="line">      <span class="comment">--tff                   Enable interlaced mode (top field first)</span></span><br><span class="line">      <span class="comment">--bff                   Enable interlaced mode (bottom field first)</span></span><br><span class="line">      <span class="comment">--constrained-intra     Enable constrained intra prediction.</span></span><br><span class="line">      <span class="comment">--pulldown &lt;string&gt;     Use soft pulldown to change frame rate</span></span><br><span class="line">                                  <span class="operator">-</span> <span class="keyword">none</span>, <span class="number">22</span>, <span class="number">32</span>, <span class="number">64</span>, <span class="keyword">double</span>, triple, euro (requires cfr input)</span><br><span class="line">      <span class="comment">--fake-interlaced       Flag stream as interlaced but encode progressive.</span></span><br><span class="line">                              Makes it possible <span class="keyword">to</span> encode <span class="number">25</span>p <span class="keyword">and</span> <span class="number">30</span>p Blu<span class="operator">-</span>Ray</span><br><span class="line">                              streams. Ignored <span class="keyword">in</span> interlaced mode.</span><br><span class="line">      <span class="comment">--frame-packing &lt;integer&gt; For stereoscopic videos define frame arrangement</span></span><br><span class="line">                                  <span class="operator">-</span> <span class="number">0</span>: checkerboard <span class="operator">-</span> pixels <span class="keyword">are</span> alternatively <span class="keyword">from</span> L <span class="keyword">and</span> R</span><br><span class="line">                                  <span class="operator">-</span> <span class="number">1</span>: <span class="keyword">column</span> alternation <span class="operator">-</span> L <span class="keyword">and</span> R <span class="keyword">are</span> interlaced <span class="keyword">by</span> <span class="keyword">column</span></span><br><span class="line">                                  <span class="operator">-</span> <span class="number">2</span>: <span class="type">row</span> alternation <span class="operator">-</span> L <span class="keyword">and</span> R <span class="keyword">are</span> interlaced <span class="keyword">by</span> <span class="type">row</span></span><br><span class="line">                                  <span class="operator">-</span> <span class="number">3</span>: side <span class="keyword">by</span> side <span class="operator">-</span> L <span class="keyword">is</span> <span class="keyword">on</span> the <span class="keyword">left</span>, R <span class="keyword">on</span> the <span class="keyword">right</span></span><br><span class="line">                                  <span class="operator">-</span> <span class="number">4</span>: top bottom <span class="operator">-</span> L <span class="keyword">is</span> <span class="keyword">on</span> top, R <span class="keyword">on</span> bottom</span><br><span class="line">                                  <span class="operator">-</span> <span class="number">5</span>: frame alternation <span class="operator">-</span> <span class="keyword">one</span> <span class="keyword">view</span> <span class="keyword">per</span> frame</span><br><span class="line"></span><br><span class="line">Ratecontrol:</span><br><span class="line"></span><br><span class="line">  <span class="operator">-</span>q, <span class="comment">--qp &lt;integer&gt;          Force constant QP (0-81, 0=lossless)</span></span><br><span class="line">  <span class="operator">-</span>B, <span class="comment">--bitrate &lt;integer&gt;     Set bitrate (kbit/s)</span></span><br><span class="line">      <span class="comment">--crf &lt;float&gt;           Quality-based VBR (-12-51) [23.0]</span></span><br><span class="line">      <span class="comment">--rc-lookahead &lt;integer&gt; Number of frames for frametype lookahead [40]</span></span><br><span class="line">      <span class="comment">--vbv-maxrate &lt;string&gt; or &lt;integer&gt; Max local bitrate (kbit/s) [0]</span></span><br><span class="line">                                  <span class="operator">-</span> auto_high444: <span class="keyword">Set</span> the VBV maxrate <span class="keyword">to</span> fit <span class="keyword">in</span> the target level <span class="keyword">of</span> High <span class="number">4</span>:<span class="number">4</span>:<span class="number">4</span> Predictive Profile</span><br><span class="line">                                  <span class="operator">-</span> auto_high422: <span class="keyword">Set</span> the VBV maxrate <span class="keyword">to</span> fit <span class="keyword">in</span> the target level <span class="keyword">of</span> High <span class="number">4</span>:<span class="number">2</span>:<span class="number">2</span> Profile</span><br><span class="line">                                  <span class="operator">-</span> auto_high10: <span class="keyword">Set</span> the VBV maxrate <span class="keyword">to</span> fit <span class="keyword">in</span> the target level <span class="keyword">of</span> High <span class="number">10</span> Profile</span><br><span class="line">                                  <span class="operator">-</span> auto_high: <span class="keyword">Set</span> the VBV maxrate <span class="keyword">to</span> fit <span class="keyword">in</span> the target level <span class="keyword">of</span> High Profile</span><br><span class="line">                                  <span class="operator">-</span> auto_main: <span class="keyword">Set</span> the VBV maxrate <span class="keyword">to</span> fit <span class="keyword">in</span> the target level <span class="keyword">of</span> Main <span class="keyword">and</span> Baseline Profile</span><br><span class="line">      <span class="comment">--vbv-bufsize &lt;string&gt; or &lt;integer&gt; Set size of the VBV buffer (kbit) [0]</span></span><br><span class="line">                                  <span class="operator">-</span> auto_high444: <span class="keyword">Set</span> the VBV bufsize <span class="keyword">to</span> fit <span class="keyword">in</span> the target level <span class="keyword">of</span> High <span class="number">4</span>:<span class="number">4</span>:<span class="number">4</span> Predictive Profile</span><br><span class="line">                                  <span class="operator">-</span> auto_high422: <span class="keyword">Set</span> the VBV bufsize <span class="keyword">to</span> fit <span class="keyword">in</span> the target level <span class="keyword">of</span> High <span class="number">4</span>:<span class="number">2</span>:<span class="number">2</span> Profile</span><br><span class="line">                                  <span class="operator">-</span> auto_high10: <span class="keyword">Set</span> the VBV bufsize <span class="keyword">to</span> fit <span class="keyword">in</span> the target level <span class="keyword">of</span> High <span class="number">10</span> Profile</span><br><span class="line">                                  <span class="operator">-</span> auto_high: <span class="keyword">Set</span> the VBV bufsize <span class="keyword">to</span> fit <span class="keyword">in</span> the target level <span class="keyword">of</span> High Profile</span><br><span class="line">                                  <span class="operator">-</span> auto_main: <span class="keyword">Set</span> the VBV bufsize <span class="keyword">to</span> fit <span class="keyword">in</span> the target level <span class="keyword">of</span> Main <span class="keyword">and</span> Baseline Profile</span><br><span class="line">      <span class="comment">--vbv-init &lt;float&gt;      Initial VBV buffer occupancy [0.9]</span></span><br><span class="line">      <span class="comment">--crf-max &lt;float&gt;       With CRF+VBV, limit RF to this value</span></span><br><span class="line">                                  May cause VBV underflows<span class="operator">!</span></span><br><span class="line">      <span class="comment">--qpmin &lt;integer&gt;[:&lt;integer&gt;:&lt;integer&gt;]  Set min QP of I:P:B frames [0:0:0]</span></span><br><span class="line">      <span class="comment">--qpmax &lt;integer&gt;[:&lt;integer&gt;:&lt;integer&gt;]  Set max QP of I:P:B frames [81:81:81]</span></span><br><span class="line">      <span class="comment">--qpstep &lt;integer&gt;      Set max QP step [4]</span></span><br><span class="line">      <span class="comment">--ratetol &lt;float&gt;       Tolerance of ABR ratecontrol and VBV [1.0]</span></span><br><span class="line">      <span class="comment">--ipratio &lt;float&gt;       QP factor between I and P [1.40]</span></span><br><span class="line">      <span class="comment">--pbratio &lt;float&gt;       QP factor between P and B [1.30]</span></span><br><span class="line">      <span class="comment">--chroma-qp-offset &lt;integer&gt;  QP difference between chroma and luma [0]</span></span><br><span class="line">      <span class="comment">--aq-mode &lt;integer&gt;     AQ method [1]</span></span><br><span class="line">                                  <span class="operator">-</span> <span class="number">0</span>: Disabled</span><br><span class="line">                                  <span class="operator">-</span> <span class="number">1</span>: Variance AQ (complexity mask)</span><br><span class="line">                                  <span class="operator">-</span> <span class="number">2</span>: Auto<span class="operator">-</span>variance AQ (experimental)</span><br><span class="line">                                  <span class="operator">-</span> <span class="number">3</span>: Auto<span class="operator">-</span>variance AQ mod1</span><br><span class="line">                                  <span class="operator">-</span> <span class="number">4</span>: Auto<span class="operator">-</span>variance AQ mod2</span><br><span class="line">      <span class="comment">--aq-strength &lt;float&gt;   Reduces blocking and blurring in flat and</span></span><br><span class="line">                              textured areas. [<span class="number">1.0</span>]</span><br><span class="line">      <span class="comment">--aq-sensitivity &lt;float&gt; &quot;Center&quot; of AQ curve. [10.0]</span></span><br><span class="line">                                  <span class="operator">-</span>  <span class="number">5</span>: most QPs <span class="keyword">are</span> raised</span><br><span class="line">                                  <span class="operator">-</span> <span class="number">10</span>: good general<span class="operator">-</span>use sensitivity</span><br><span class="line">                                  <span class="operator">-</span> <span class="number">15</span>: most QPs <span class="keyword">are</span> lowered</span><br><span class="line">      <span class="comment">--aq-ifactor &lt;float&gt;    AQ strength factor of I-frames [1.00]</span></span><br><span class="line">      <span class="comment">--aq-pfactor &lt;float&gt;    AQ strength factor of P-frames [1.00]</span></span><br><span class="line">      <span class="comment">--aq-bfactor &lt;float&gt;    AQ strength factor of B-frames [1.00]</span></span><br><span class="line">      <span class="comment">--aq2-strength &lt;float&gt;   Use 2nd AQ (Haali&#x27;s AQ) algorithm for support. [0.0]</span></span><br><span class="line">                                  <span class="number">0.0</span>: <span class="keyword">no</span> <span class="number">2</span>nd AQ</span><br><span class="line">                                  <span class="number">1.1</span>: strong <span class="number">2</span>nd AQ</span><br><span class="line">      <span class="comment">--aq2-sensitivity &lt;float&gt; &quot;Flatness&quot; threshold to trigger 2nd AQ [15.0]</span></span><br><span class="line">                                    <span class="number">5</span>: applies <span class="keyword">to</span> almost <span class="keyword">all</span> blocks</span><br><span class="line">                                   <span class="number">22</span>: <span class="keyword">only</span> flat blocks</span><br><span class="line">      <span class="comment">--aq2-ifactor &lt;float&gt;   2nd AQ strength factor of I-frames [1.00]</span></span><br><span class="line">      <span class="comment">--aq2-pfactor &lt;float&gt;   2nd AQ strength factor of P-frames [1.00]</span></span><br><span class="line">      <span class="comment">--aq2-bfactor &lt;float&gt;   2nd AQ strength factor of B-frames [1.00]</span></span><br><span class="line">      <span class="comment">--aq3-mode &lt;integer&gt;    3rd AQ (OreAQ) method [0]</span></span><br><span class="line">                                  <span class="operator">-</span> <span class="number">0</span>: Disabled</span><br><span class="line">                                  <span class="operator">-</span> <span class="number">1</span>: OreAQ</span><br><span class="line">                                  <span class="operator">-</span> <span class="number">2</span>: MixOre (experimental)</span><br><span class="line">      <span class="comment">--aq3-strength &lt;float&gt;  Reduces blocking and blurring in bump and</span></span><br><span class="line">                              clear<span class="operator">-</span>cut areas. [<span class="number">0.5</span>]</span><br><span class="line">                    <span class="operator">&lt;</span>Up:Down<span class="operator">&gt;</span> <span class="keyword">or</span> <span class="operator">&lt;</span>Up1:Down1:Up2:Down2:Up3:Down3:Up4:OtherStuff<span class="operator">&gt;</span></span><br><span class="line">                              <span class="keyword">Set</span> QP up<span class="operator">/</span>down strength.</span><br><span class="line">      <span class="comment">--aq3-sensitivity &lt;float&gt; &quot;Center&quot; of 3rd AQ curve. [10.0]</span></span><br><span class="line">                                  <span class="operator">-</span>  <span class="number">5</span>: most QPs <span class="keyword">are</span> raised</span><br><span class="line">                                  <span class="operator">-</span> <span class="number">10</span>: good general<span class="operator">-</span>use sensitivity</span><br><span class="line">                                  <span class="operator">-</span> <span class="number">15</span>: most QPs <span class="keyword">are</span> lowered</span><br><span class="line">      <span class="comment">--aq3-ifactor &lt;Up:Down&gt; 3rd AQ strength factor of I-frames [1.0:1.0]</span></span><br><span class="line">      <span class="comment">--aq3-pfactor &lt;Up:Down&gt; 3rd AQ strength factor of P-frames [1.0:1.0]</span></span><br><span class="line">      <span class="comment">--aq3-bfactor &lt;Up:Down&gt; 3rd AQ strength factor of B-frames [1.0:1.0]</span></span><br><span class="line">      <span class="comment">--aq3-boundary &lt;int:int:int&gt;  OreAQ boundary. </span></span><br><span class="line">                                       fullrange<span class="operator">=</span>off: [<span class="number">768</span>:<span class="number">256</span>:<span class="number">96</span>]</span><br><span class="line">                                       fullrange<span class="operator">=</span><span class="keyword">on</span> : [<span class="number">820</span>:<span class="number">224</span>:<span class="number">36</span>]</span><br><span class="line">                                       #<span class="number">1</span>: Bright<span class="operator">-</span>Middle</span><br><span class="line">                                       #<span class="number">2</span>: Middle<span class="operator">-</span>Dark</span><br><span class="line">                                       #<span class="number">3</span>: Dark<span class="operator">-</span>M.Dark</span><br><span class="line">      <span class="comment">--fade-compensate &lt;float&gt; Allocate more bits to fades [0.0]</span></span><br><span class="line">                                  Approximate sane <span class="keyword">range</span>: <span class="number">0.0</span> <span class="operator">-</span> <span class="number">1.0</span> (requires mb<span class="operator">-</span>tree)</span><br><span class="line"></span><br><span class="line">  <span class="operator">-</span>p, <span class="comment">--pass &lt;integer&gt;        Enable multipass ratecontrol</span></span><br><span class="line">                                  <span class="operator">-</span> <span class="number">1</span>: <span class="keyword">First</span> pass, creates stats file</span><br><span class="line">                                  <span class="operator">-</span> <span class="number">2</span>: <span class="keyword">Last</span> pass, does <span class="keyword">not</span> overwrite stats file</span><br><span class="line">                                  <span class="operator">-</span> <span class="number">3</span>: Nth pass, overwrites stats file</span><br><span class="line">      <span class="comment">--stats &lt;string&gt;        Filename for 2 pass stats [&quot;x264_2pass.log&quot;]</span></span><br><span class="line">      <span class="comment">--no-mbtree             Disable mb-tree ratecontrol.</span></span><br><span class="line">      <span class="comment">--qcomp &lt;float&gt;         QP curve compression [0.60]</span></span><br><span class="line">      <span class="comment">--cplxblur &lt;float&gt;      Reduce fluctuations in QP (before curve compression) [20.0]</span></span><br><span class="line">      <span class="comment">--qblur &lt;float&gt;         Reduce fluctuations in QP (after curve compression) [0.5]</span></span><br><span class="line">      <span class="comment">--zones &lt;zone0&gt;/&lt;zone1&gt;/...  Tweak the options of regions of the video</span></span><br><span class="line">                              <span class="keyword">Each</span> zone <span class="keyword">is</span> <span class="keyword">of</span> the form</span><br><span class="line">                                  <span class="operator">&lt;</span><span class="keyword">start</span> frame<span class="operator">&gt;</span>,<span class="operator">&lt;</span><span class="keyword">end</span> frame<span class="operator">&gt;</span>,<span class="operator">&lt;</span>options<span class="operator">&gt;</span></span><br><span class="line">                                  <span class="keyword">where</span> <span class="operator">&lt;</span>options<span class="operator">&gt;</span> <span class="keyword">is</span> a comma separated list</span><br><span class="line">                                      either q<span class="operator">=</span><span class="operator">&lt;</span><span class="type">integer</span><span class="operator">&gt;</span> (force QP)</span><br><span class="line">                                      <span class="keyword">or</span>     b<span class="operator">=</span><span class="operator">&lt;</span><span class="type">float</span><span class="operator">&gt;</span> (bitrate multiplier)</span><br><span class="line">                                  can <span class="keyword">only</span> be used <span class="keyword">as</span> the <span class="keyword">first</span> option</span><br><span class="line">                              Other available options <span class="keyword">for</span> use <span class="keyword">in</span> zones <span class="keyword">are</span>:</span><br><span class="line">                                  (<span class="keyword">no</span><span class="operator">-</span>)chroma<span class="operator">-</span>me    (<span class="keyword">no</span><span class="operator">-</span>)dct<span class="operator">-</span>decimate   deblock<span class="operator">=</span><span class="operator">&lt;</span><span class="type">integer</span><span class="operator">&gt;</span>:<span class="operator">&lt;</span><span class="type">integer</span><span class="operator">&gt;</span></span><br><span class="line">                                  <span class="keyword">no</span><span class="operator">-</span>deblock        b<span class="operator">-</span>bias<span class="operator">=</span><span class="operator">&lt;</span><span class="type">integer</span><span class="operator">&gt;</span>    deadzone<span class="operator">-</span>intra<span class="operator">=</span><span class="operator">&lt;</span><span class="type">integer</span><span class="operator">&gt;</span></span><br><span class="line">                                  (<span class="keyword">no</span><span class="operator">-</span>)fast<span class="operator">-</span>pskip   subme<span class="operator">=</span><span class="operator">&lt;</span><span class="type">integer</span><span class="operator">&gt;</span>     deadzone<span class="operator">-</span>inter<span class="operator">=</span><span class="operator">&lt;</span><span class="type">integer</span><span class="operator">&gt;</span></span><br><span class="line">                                  <span class="keyword">ref</span><span class="operator">=</span><span class="operator">&lt;</span><span class="type">integer</span><span class="operator">&gt;</span>     direct<span class="operator">=</span><span class="operator">&lt;</span>string<span class="operator">&gt;</span>     scenecut<span class="operator">=</span><span class="operator">&lt;</span><span class="type">integer</span><span class="operator">&gt;</span></span><br><span class="line">                                  nr<span class="operator">=</span><span class="operator">&lt;</span><span class="type">integer</span><span class="operator">&gt;</span>      trellis<span class="operator">=</span><span class="operator">&lt;</span><span class="type">integer</span><span class="operator">&gt;</span>   (<span class="keyword">no</span><span class="operator">-</span>)mixed<span class="operator">-</span>refs</span><br><span class="line">                                  me<span class="operator">=</span><span class="operator">&lt;</span>string<span class="operator">&gt;</span>       merange<span class="operator">=</span><span class="operator">&lt;</span><span class="type">integer</span><span class="operator">&gt;</span>   psy<span class="operator">-</span>rd<span class="operator">=</span><span class="operator">&lt;</span><span class="type">float</span><span class="operator">&gt;</span>:<span class="operator">&lt;</span><span class="type">float</span><span class="operator">&gt;</span></span><br><span class="line">                                  <span class="keyword">no</span><span class="number">-8</span>x8dct         crf<span class="operator">=</span><span class="operator">&lt;</span><span class="type">float</span><span class="operator">&gt;</span>         b<span class="operator">-</span>pyramid<span class="operator">=</span><span class="operator">&lt;</span>string<span class="operator">&gt;</span></span><br><span class="line">                                  fgo<span class="operator">=</span><span class="operator">&lt;</span><span class="type">int</span><span class="operator">&gt;</span></span><br><span class="line">                              Limitations:</span><br><span class="line">                                  The number <span class="keyword">of</span> reference frames <span class="keyword">for</span> a zone can never exceed what was specified <span class="keyword">with</span> <span class="comment">--ref</span></span><br><span class="line">                                  scenecut can <span class="keyword">not</span> be turned <span class="keyword">on</span> <span class="keyword">and</span> off; <span class="keyword">only</span> varied if originally active (<span class="operator">&gt;</span><span class="number">0</span>)</span><br><span class="line">                                  merange can <span class="keyword">not</span> exceed what was originally specified if <span class="comment">--me esa/tesa</span></span><br><span class="line">                                  subme can<span class="string">&#x27;t be changed if the original commandline specified it as 0</span></span><br><span class="line"><span class="string">                                  me can&#x27;</span>t be <span class="keyword">set</span> <span class="keyword">to</span> esa <span class="keyword">or</span> tesa if <span class="comment">--me was originally specified as dia, hex, or umh</span></span><br><span class="line">      <span class="comment">--qpfile &lt;string&gt;       Force frametypes and QPs for some or all frames</span></span><br><span class="line">                              Format <span class="keyword">of</span> <span class="keyword">each</span> line: framenumber frametype QP</span><br><span class="line">                              QP <span class="keyword">is</span> optional (<span class="keyword">none</span> lets x264 choose). Frametypes: I,i,K,P,B,b.</span><br><span class="line">                                  K<span class="operator">=</span><span class="operator">&lt;</span>I <span class="keyword">or</span> i<span class="operator">&gt;</span> depending <span class="keyword">on</span> <span class="keyword">open</span><span class="operator">-</span>gop setting</span><br><span class="line">                              QPs <span class="keyword">are</span> restricted <span class="keyword">by</span> qpmin<span class="operator">/</span>qpmax.</span><br><span class="line"></span><br><span class="line">Analysis:</span><br><span class="line"></span><br><span class="line">  <span class="operator">-</span>A, <span class="comment">--partitions &lt;string&gt;   Partitions to consider [&quot;p8x8,b8x8,i8x8,i4x4&quot;]</span></span><br><span class="line">                                  <span class="operator">-</span> p8x8, p4x4, b8x8, i8x8, i4x4</span><br><span class="line">                                  <span class="operator">-</span> <span class="keyword">none</span>, <span class="keyword">all</span></span><br><span class="line">                                  (p4x4 requires p8x8. i8x8 requires <span class="comment">--8x8dct.)</span></span><br><span class="line">      <span class="comment">--direct &lt;string&gt;       Direct MV prediction mode [&quot;spatial&quot;]</span></span><br><span class="line">                                  <span class="operator">-</span> <span class="keyword">none</span>, spatial, temporal, auto</span><br><span class="line">      <span class="comment">--no-weightb            Disable weighted prediction for B-frames</span></span><br><span class="line">      <span class="comment">--weightp &lt;integer&gt;     Weighted prediction for P-frames [2]</span></span><br><span class="line">                                  <span class="operator">-</span> <span class="number">0</span>: Disabled</span><br><span class="line">                                  <span class="operator">-</span> <span class="number">1</span>: Weighted refs</span><br><span class="line">                                  <span class="operator">-</span> <span class="number">2</span>: Weighted refs <span class="operator">+</span> Duplicates</span><br><span class="line">      <span class="comment">--me &lt;string&gt;           Integer pixel motion estimation method [&quot;hex&quot;]</span></span><br><span class="line">                                  <span class="operator">-</span> dia: diamond <span class="keyword">search</span>, radius <span class="number">1</span> (fast)</span><br><span class="line">                                  <span class="operator">-</span> hex: hexagonal <span class="keyword">search</span>, radius <span class="number">2</span></span><br><span class="line">                                  <span class="operator">-</span> umh: uneven multi<span class="operator">-</span>hexagon <span class="keyword">search</span></span><br><span class="line">                                  <span class="operator">-</span> esa: exhaustive <span class="keyword">search</span></span><br><span class="line">                                  <span class="operator">-</span> tesa: hadamard exhaustive <span class="keyword">search</span> (slow)</span><br><span class="line">      <span class="comment">--merange &lt;integer&gt;     Maximum motion vector search range [16]</span></span><br><span class="line">      <span class="comment">--mvrange &lt;integer&gt;     Maximum motion vector length [-1 (auto)]</span></span><br><span class="line">      <span class="comment">--mvrange-thread &lt;int&gt;  Minimum buffer between threads [-1 (auto)]</span></span><br><span class="line">  <span class="operator">-</span>m, <span class="comment">--subme &lt;integer&gt;       Subpixel motion estimation and mode decision [7]</span></span><br><span class="line">                                  <span class="operator">-</span> <span class="number">0</span>: fullpel <span class="keyword">only</span> (<span class="keyword">not</span> recommended)</span><br><span class="line">                                  <span class="operator">-</span> <span class="number">1</span>: SAD mode decision, <span class="keyword">one</span> qpel iteration</span><br><span class="line">                                  <span class="operator">-</span> <span class="number">2</span>: SATD mode decision</span><br><span class="line">                                  <span class="operator">-</span> <span class="number">3</span><span class="number">-5</span>: Progressively more qpel</span><br><span class="line">                                  <span class="operator">-</span> <span class="number">6</span>: RD mode decision <span class="keyword">for</span> I<span class="operator">/</span>P<span class="operator">-</span>frames</span><br><span class="line">                                  <span class="operator">-</span> <span class="number">7</span>: RD mode decision <span class="keyword">for</span> <span class="keyword">all</span> frames</span><br><span class="line">                                  <span class="operator">-</span> <span class="number">8</span>: RD refinement <span class="keyword">for</span> I<span class="operator">/</span>P<span class="operator">-</span>frames</span><br><span class="line">                                  <span class="operator">-</span> <span class="number">9</span>: RD refinement <span class="keyword">for</span> <span class="keyword">all</span> frames</span><br><span class="line">                                  <span class="operator">-</span> <span class="number">10</span>: QP<span class="operator">-</span>RD <span class="operator">-</span> requires trellis<span class="operator">=</span><span class="number">2</span>, aq<span class="operator">-</span>mode<span class="operator">&gt;</span><span class="number">0</span></span><br><span class="line">                                  <span class="operator">-</span> <span class="number">11</span>: <span class="keyword">Full</span> RD: disable <span class="keyword">all</span> early terminations</span><br><span class="line">      <span class="comment">--psy-rd &lt;float:float&gt;  Strength of psychovisual optimization [&quot;1.0:0.0&quot;]</span></span><br><span class="line">                                  #<span class="number">1</span>: RD (requires subme<span class="operator">&gt;=</span><span class="number">6</span>)</span><br><span class="line">                                  #<span class="number">2</span>: Trellis (requires trellis, experimental)</span><br><span class="line">      <span class="comment">--no-psy                Disable all visual optimizations that worsen</span></span><br><span class="line">                              <span class="keyword">both</span> PSNR <span class="keyword">and</span> SSIM.</span><br><span class="line">      <span class="comment">--fgo &lt;int&gt;             Activates Film Grain Optimization. (requires subme&gt;=7) [0]</span></span><br><span class="line">                                  <span class="operator">-</span> <span class="number">5</span>: weak FGO</span><br><span class="line">                                  <span class="operator">-</span> <span class="number">15</span>: strong FGO</span><br><span class="line">      <span class="comment">--no-mixed-refs         Don&#x27;t decide references on a per partition basis</span></span><br><span class="line">      <span class="comment">--no-chroma-me          Ignore chroma in motion estimation</span></span><br><span class="line">      <span class="comment">--no-8x8dct             Disable adaptive spatial transform size</span></span><br><span class="line">  <span class="operator">-</span>t, <span class="comment">--trellis &lt;integer&gt;     Trellis RD quantization. [1]</span></span><br><span class="line">                                  <span class="operator">-</span> <span class="number">0</span>: disabled</span><br><span class="line">                                  <span class="operator">-</span> <span class="number">1</span>: enabled <span class="keyword">only</span> <span class="keyword">on</span> the <span class="keyword">final</span> encode <span class="keyword">of</span> a MB</span><br><span class="line">                                  <span class="operator">-</span> <span class="number">2</span>: enabled <span class="keyword">on</span> <span class="keyword">all</span> mode decisions</span><br><span class="line">      <span class="comment">--no-fast-pskip         Disables early SKIP detection on P-frames</span></span><br><span class="line">      <span class="comment">--no-dct-decimate       Disables coefficient thresholding on P-frames</span></span><br><span class="line">      <span class="comment">--nr &lt;integer&gt;          Noise reduction [0]</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">--deadzone-inter &lt;int&gt;  Set the size of the inter luma quantization deadzone [21]</span></span><br><span class="line">      <span class="comment">--deadzone-intra &lt;int&gt;  Set the size of the intra luma quantization deadzone [11]</span></span><br><span class="line">                                  Deadzones should be <span class="keyword">in</span> the <span class="keyword">range</span> <span class="number">0</span> <span class="operator">-</span> <span class="number">32.</span></span><br><span class="line">      <span class="comment">--cqm &lt;string&gt;          Preset quant matrices [&quot;flat&quot;]</span></span><br><span class="line">                                  <span class="operator">-</span> jvt, flat</span><br><span class="line">      <span class="comment">--cqmfile &lt;string&gt;      Read custom quant matrices from a JM-compatible file</span></span><br><span class="line">                                  Overrides <span class="keyword">any</span> other <span class="comment">--cqm* options.</span></span><br><span class="line">      <span class="comment">--cqm4 &lt;list&gt;           Set all 4x4 quant matrices</span></span><br><span class="line">                                  Takes a comma<span class="operator">-</span>separated list <span class="keyword">of</span> <span class="number">16</span> integers.</span><br><span class="line">      <span class="comment">--cqm8 &lt;list&gt;           Set all 8x8 quant matrices</span></span><br><span class="line">                                  Takes a comma<span class="operator">-</span>separated list <span class="keyword">of</span> <span class="number">64</span> integers.</span><br><span class="line">      <span class="comment">--cqm4i, --cqm4p, --cqm8i, --cqm8p &lt;list&gt;</span></span><br><span class="line">                              <span class="keyword">Set</span> <span class="keyword">both</span> luma <span class="keyword">and</span> chroma quant matrices</span><br><span class="line">      <span class="comment">--cqm4iy, --cqm4ic, --cqm4py, --cqm4pc &lt;list&gt;</span></span><br><span class="line">                              <span class="keyword">Set</span> individual quant matrices</span><br><span class="line"></span><br><span class="line">Video Usability Info (Annex E):</span><br><span class="line">The VUI settings <span class="keyword">are</span> <span class="keyword">not</span> used <span class="keyword">by</span> the encoder but <span class="keyword">are</span> merely suggestions <span class="keyword">to</span></span><br><span class="line">the playback equipment. See doc<span class="operator">/</span>vui.txt <span class="keyword">for</span> details. Use <span class="keyword">at</span> your own risk.</span><br><span class="line"></span><br><span class="line">      <span class="comment">--overscan &lt;string&gt;     Specify crop overscan setting [&quot;undef&quot;]</span></span><br><span class="line">                                  <span class="operator">-</span> undef, <span class="keyword">show</span>, crop</span><br><span class="line">      <span class="comment">--videoformat &lt;string&gt;  Specify video format [&quot;undef&quot;]</span></span><br><span class="line">                                  <span class="operator">-</span> component, pal, ntsc, secam, mac, undef</span><br><span class="line">      <span class="comment">--range &lt;string&gt;        Specify color range [&quot;auto&quot;]</span></span><br><span class="line">                                  <span class="operator">-</span> auto, tv, pc</span><br><span class="line">      <span class="comment">--colorprim &lt;string&gt;    Specify color primaries [&quot;undef&quot;]</span></span><br><span class="line">                                  <span class="operator">-</span> undef, bt709, bt470m, bt470bg, smpte170m,</span><br><span class="line">                                    smpte240m, film, bt2020</span><br><span class="line">      <span class="comment">--transfer &lt;string&gt;     Specify transfer characteristics [&quot;undef&quot;]</span></span><br><span class="line">                                  <span class="operator">-</span> undef, bt709, bt470m, bt470bg, smpte170m,</span><br><span class="line">                                    smpte240m, linear, log100, log316,</span><br><span class="line">                                    iec61966<span class="number">-2</span><span class="number">-4</span>, bt1361e, iec61966<span class="number">-2</span><span class="number">-1</span>,</span><br><span class="line">                                    bt2020<span class="number">-10</span>, bt2020<span class="number">-12</span></span><br><span class="line">      <span class="comment">--colormatrix &lt;string&gt;  Specify color matrix setting [&quot;???&quot;]</span></span><br><span class="line">                                  <span class="operator">-</span> undef, bt709, fcc, bt470bg, smpte170m,</span><br><span class="line">                                    smpte240m, GBR, YCgCo, bt2020nc, bt2020c</span><br><span class="line">      <span class="comment">--chromaloc &lt;integer&gt;   Specify chroma sample location (0 to 5) [0]</span></span><br><span class="line">      <span class="comment">--nal-hrd &lt;string&gt;      Signal HRD information (requires vbv-bufsize)</span></span><br><span class="line">                                  <span class="operator">-</span> <span class="keyword">none</span>, vbr, cbr (cbr <span class="keyword">not</span> allowed <span class="keyword">in</span> .mp4)</span><br><span class="line">      <span class="comment">--filler                Force hard-CBR and generate filler (implied by</span></span><br><span class="line">                              <span class="comment">--nal-hrd cbr)</span></span><br><span class="line">      <span class="comment">--pic-struct            Force pic_struct in Picture Timing SEI</span></span><br><span class="line">      <span class="comment">--crop-rect &lt;string&gt;    Add &#x27;left,top,right,bottom&#x27; to the bitstream-level</span></span><br><span class="line">                              cropping rectangle</span><br><span class="line"></span><br><span class="line">Audio:</span><br><span class="line"></span><br><span class="line">      Audio options may be used if audio support <span class="keyword">is</span> compiled in.</span><br><span class="line">      Audio <span class="keyword">is</span> automatically opened <span class="keyword">from</span> the input file if supported <span class="keyword">by</span> the demuxer.</span><br><span class="line"></span><br><span class="line">      <span class="comment">--audiofile &lt;filename&gt;  Uses audio from the specified file</span></span><br><span class="line">      <span class="comment">--ademuxer &lt;string&gt;     Demux audio by the specified demuxer [auto]</span></span><br><span class="line">                              Supported <span class="keyword">and</span> compiled <span class="keyword">in</span> demuxers:</span><br><span class="line">                                  <span class="operator">-</span> auto, lavf, avs, lsmash</span><br><span class="line">      <span class="comment">--atrack &lt;integer&gt;      Audio track number [auto]</span></span><br><span class="line">      <span class="comment">--acodec &lt;string&gt;       Audio codec [auto]</span></span><br><span class="line">                              Available settings:</span><br><span class="line">                                  <span class="operator">-</span> auto (<span class="keyword">select</span> muxer <span class="keyword">default</span> codec <span class="keyword">and</span> its <span class="keyword">default</span> encoder)</span><br><span class="line">                                  <span class="operator">-</span> <span class="keyword">copy</span> (<span class="keyword">copy</span> source audio <span class="keyword">without</span> transcoding)</span><br><span class="line">                                  <span class="operator">-</span> <span class="keyword">none</span> (disable audio)</span><br><span class="line">                                <span class="keyword">Set</span> audio format <span class="keyword">only</span> <span class="keyword">and</span> automatically choose encoder</span><br><span class="line">                                  <span class="operator">-</span> raw, </span><br><span class="line">                                Force <span class="keyword">to</span> use specified audio encoder</span><br><span class="line">                                <span class="string">&#x27;ff&#x27;</span> prefix indicate they <span class="keyword">are</span> supported via libavcodec</span><br><span class="line">                                  <span class="operator">-</span> raw, </span><br><span class="line">      <span class="comment">--abitrate &lt;float&gt;      Enables bitrate mode and set bitrate (kbits/s)</span></span><br><span class="line">      <span class="comment">--aquality &lt;float&gt;      Quality-based VBR [codec-dependent default]</span></span><br><span class="line">      <span class="comment">--asamplerate &lt;integer&gt; Audio samplerate (Hz) [keep source samplerate]</span></span><br><span class="line">      <span class="comment">--acodec-quality &lt;float&gt; Codec&#x27;s internal compression quality [codec specific]</span></span><br><span class="line">      <span class="comment">--aextraopt &lt;string&gt;    Pass extra option to codec [codec specific]</span></span><br><span class="line">                              Should be comma separated &quot;name=value&quot; style</span><br><span class="line"></span><br><span class="line">      Encoder <span class="keyword">specific</span> helps:</span><br><span class="line">      <span class="operator">*</span> raw encoder help</span><br><span class="line">        Directly pass the decoded PCM samples (<span class="keyword">in</span> native endian) <span class="keyword">to</span> muxer.</span><br><span class="line">        <span class="keyword">All</span> audio options <span class="keyword">except</span> <span class="keyword">for</span> <span class="comment">--acodec and --audiofile are ignored.</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Input<span class="operator">/</span>Output:</span><br><span class="line"></span><br><span class="line">  <span class="operator">-</span>o, <span class="comment">--output &lt;string&gt;       Specify output file</span></span><br><span class="line">      <span class="comment">--muxer &lt;string&gt;        Specify output container format [&quot;auto&quot;]</span></span><br><span class="line">                                  <span class="operator">-</span> auto, raw, mkv, flv, mp4, <span class="number">3</span>gp, <span class="number">3</span>g2, mov, qt, avi</span><br><span class="line">      <span class="comment">--demuxer &lt;string&gt;      Specify input container format [&quot;auto&quot;]</span></span><br><span class="line">                                  <span class="operator">-</span> auto, raw, y4m, avs, lavf, ffms</span><br><span class="line">      <span class="comment">--decoder &lt;string&gt;      Specify decoder in lavf for input video</span></span><br><span class="line">      <span class="comment">--input-fmt &lt;string&gt;    Specify input file format (requires lavf support)</span></span><br><span class="line">      <span class="comment">--input-csp &lt;string&gt;    Specify input colorspace format for raw input</span></span><br><span class="line">                              <span class="operator">-</span> valid csps <span class="keyword">for</span> `raw<span class="string">&#x27; demuxer:</span></span><br><span class="line"><span class="string">                                i420, yv12, nv12, i422, yv16, nv16, i444, yv24, bgr, bgra, rgb</span></span><br><span class="line"><span class="string">                              - valid csps for `lavf&#x27;</span> demuxer:</span><br><span class="line">                                yuv420p, yuyv422, rgb24, bgr24, yuv422p, </span><br><span class="line">                                yuv444p, yuv410p, yuv411p, gray, monow, monob, </span><br><span class="line">                                pal8, yuvj420p, yuvj422p, yuvj444p, xvmcmc, </span><br><span class="line">                                xvmcidct, uyvy422, uyyvyy411, bgr8, bgr4, </span><br><span class="line">                                bgr4_byte, rgb8, rgb4, rgb4_byte, nv12, nv21, </span><br><span class="line">                                argb, rgba, abgr, bgra, gray16be, gray16le, </span><br><span class="line">                                yuv440p, yuvj440p, yuva420p, vdpau_h264, </span><br><span class="line">                                vdpau_mpeg1, vdpau_mpeg2, vdpau_wmv3, </span><br><span class="line">                                vdpau_vc1, rgb48be, rgb48le, rgb565be, </span><br><span class="line">                                rgb565le, rgb555be, rgb555le, bgr565be, </span><br><span class="line">                                bgr565le, bgr555be, bgr555le, vaapi_moco, </span><br><span class="line">                                vaapi_idct, vaapi_vld, yuv420p16le, </span><br><span class="line">                                yuv420p16be, yuv422p16le, yuv422p16be, </span><br><span class="line">                                yuv444p16le, yuv444p16be, vdpau_mpeg4, </span><br><span class="line">                                dxva2_vld, rgb444le, rgb444be, bgr444le, </span><br><span class="line">                                bgr444be, gray8a, bgr48be, bgr48le, yuv420p9be, </span><br><span class="line">                                yuv420p9le, yuv420p10be, yuv420p10le, </span><br><span class="line">                                yuv422p10be, yuv422p10le, yuv444p9be, </span><br><span class="line">                                yuv444p9le, yuv444p10be, yuv444p10le, </span><br><span class="line">                                yuv422p9be, yuv422p9le, vda_vld, gbrp, gbrp9be, </span><br><span class="line">                                gbrp9le, gbrp10be, gbrp10le, gbrp16be, </span><br><span class="line">                                gbrp16le, yuva420p9be, yuva420p9le, </span><br><span class="line">                                yuva422p9be, yuva422p9le, yuva444p9be, </span><br><span class="line">                                yuva444p9le, yuva420p10be, yuva420p10le, </span><br><span class="line">                                yuva422p10be, yuva422p10le, yuva444p10be, </span><br><span class="line">                                yuva444p10le, yuva420p16be, yuva420p16le, </span><br><span class="line">                                yuva422p16be, yuva422p16le, yuva444p16be, </span><br><span class="line">                                yuva444p16le, vdpau, xyz12le, xyz12be, nv16, </span><br><span class="line">                                nv20le, nv20be, rgba64be, rgba64le, bgra64be, </span><br><span class="line">                                bgra64le, <span class="number">0</span>rgb, rgb0, <span class="number">0</span>bgr, bgr0, yuva444p, </span><br><span class="line">                                yuva422p, yuv420p12be, yuv420p12le, </span><br><span class="line">                                yuv420p14be, yuv420p14le, yuv422p12be, </span><br><span class="line">                                yuv422p12le, yuv422p14be, yuv422p14le, </span><br><span class="line">                                yuv444p12be, yuv444p12le, yuv444p14be, </span><br><span class="line">                                yuv444p14le, gbrp12be, gbrp12le, gbrp14be, </span><br><span class="line">                                gbrp14le, gbrap, gbrap16be, gbrap16le, </span><br><span class="line">                                yuvj411p, bayer_bggr8, bayer_rggb8, </span><br><span class="line">                                bayer_gbrg8, bayer_grbg8, bayer_bggr16le, </span><br><span class="line">                                bayer_bggr16be, bayer_rggb16le, bayer_rggb16be, </span><br><span class="line">                                bayer_gbrg16le, bayer_gbrg16be, bayer_grbg16le, </span><br><span class="line">                                bayer_grbg16be</span><br><span class="line">      <span class="comment">--output-csp &lt;string&gt;   Specify output colorspace [&quot;i420&quot;]</span></span><br><span class="line">                                  <span class="operator">-</span> i420, i422, i444, rgb</span><br><span class="line">      <span class="comment">--input-depth &lt;integer&gt; Specify input bit depth for raw input</span></span><br><span class="line">      <span class="comment">--input-range &lt;string&gt;  Specify input color range [&quot;auto&quot;]</span></span><br><span class="line">                                  <span class="operator">-</span> auto, tv, pc</span><br><span class="line">      <span class="comment">--input-res &lt;intxint&gt;   Specify input resolution (width x height)</span></span><br><span class="line">      <span class="comment">--index &lt;string&gt;        Filename for input index file</span></span><br><span class="line">      <span class="comment">--sar width:height      Specify Sample Aspect Ratio</span></span><br><span class="line">      <span class="comment">--fps &lt;float|rational&gt;  Specify framerate</span></span><br><span class="line">      <span class="comment">--seek &lt;integer&gt;        First frame to encode</span></span><br><span class="line">      <span class="comment">--frames &lt;integer&gt;      Maximum number of frames to encode</span></span><br><span class="line">      <span class="comment">--level &lt;string&gt;        Specify level (as defined by Annex A)</span></span><br><span class="line">      <span class="comment">--level-force           Force params to specifyed level</span></span><br><span class="line">      <span class="comment">--bluray-compat         Enable compatibility hacks for Blu-ray support</span></span><br><span class="line">      <span class="comment">--avcintra-class &lt;integer&gt; Use compatibility hacks for AVC-Intra class</span></span><br><span class="line">                                  <span class="operator">-</span> <span class="number">50</span>, <span class="number">100</span>, <span class="number">200</span></span><br><span class="line">      <span class="comment">--stitchable            Don&#x27;t optimize headers based on video content</span></span><br><span class="line">                              Ensures ability <span class="keyword">to</span> recombine a segmented encode</span><br><span class="line"></span><br><span class="line">  <span class="operator">-</span>v, <span class="comment">--verbose               Print stats for each frame</span></span><br><span class="line">      <span class="comment">--no-progress           Don&#x27;t show the progress indicator while encoding</span></span><br><span class="line">      <span class="comment">--quiet                 Quiet Mode</span></span><br><span class="line">      <span class="comment">--log-level &lt;string&gt;    Specify the maximum level of logging [&quot;info&quot;]</span></span><br><span class="line">                                  <span class="operator">-</span> <span class="keyword">none</span>, error, warning, info, debug</span><br><span class="line">      <span class="comment">--stylish               r2204 style progress indicator</span></span><br><span class="line">      <span class="comment">--log-file &lt;string&gt;     Save log to file</span></span><br><span class="line">      <span class="comment">--log-file-level &lt;int&gt;  Log-file level information [&quot;info&quot;]</span></span><br><span class="line">                                  <span class="operator">-</span> <span class="keyword">none</span>, error, warning, info, debug</span><br><span class="line">      <span class="comment">--psnr                  Enable PSNR computation</span></span><br><span class="line">      <span class="comment">--ssim                  Enable SSIM computation</span></span><br><span class="line">      <span class="comment">--threads &lt;integer&gt;     Force a specific number of threads</span></span><br><span class="line">      <span class="comment">--demuxer-threads &lt;integer&gt; Force a specific number of threads for demuxer (lavf, ffms)</span></span><br><span class="line">      <span class="comment">--lookahead-threads &lt;integer&gt; Force a specific number of lookahead threads</span></span><br><span class="line">      <span class="comment">--sliced-threads        Low-latency but lower-efficiency threading</span></span><br><span class="line">      <span class="comment">--thread-input          Run Avisynth in its own thread</span></span><br><span class="line">      <span class="comment">--sync-lookahead &lt;integer&gt; Number of buffer frames for threaded lookahead</span></span><br><span class="line">      <span class="comment">--non-deterministic     Slightly improve quality of SMP, at the cost of repeatability</span></span><br><span class="line">      <span class="comment">--cpu-independent       Ensure exact reproducibility across different cpus,</span></span><br><span class="line">                                  <span class="keyword">as</span> opposed <span class="keyword">to</span> letting them <span class="keyword">select</span> different algorithms</span><br><span class="line">      <span class="comment">--asm &lt;integer&gt;         Override CPU detection</span></span><br><span class="line">      <span class="comment">--no-asm                Disable all CPU optimizations</span></span><br><span class="line">      <span class="comment">--dump-yuv &lt;string&gt;     Save reconstructed frames</span></span><br><span class="line">      <span class="comment">--sps-id &lt;integer&gt;      Set SPS and PPS id numbers [0]</span></span><br><span class="line">      <span class="comment">--aud                   Use access unit delimiters</span></span><br><span class="line">      <span class="comment">--force-cfr             Force constant framerate timestamp generation</span></span><br><span class="line">      <span class="comment">--no-fps-correction     Disable automatic NTSC fps correction</span></span><br><span class="line">      <span class="comment">--tcfile-in &lt;string&gt;    Force timestamp generation with timecode file</span></span><br><span class="line">      <span class="comment">--tcfile-out &lt;string&gt;   Output timecode v2 file from input timestamps</span></span><br><span class="line">      <span class="comment">--timebase &lt;int/int&gt;    Specify timebase numerator and denominator</span></span><br><span class="line">                 <span class="operator">&lt;</span><span class="type">integer</span><span class="operator">&gt;</span>    Specify timebase numerator <span class="keyword">for</span> input timecode file</span><br><span class="line">                              <span class="keyword">or</span> specify timebase denominator <span class="keyword">for</span> other input</span><br><span class="line">      <span class="comment">--opts &lt;integer&gt;        Set level of writing options in SEI [3]</span></span><br><span class="line">                                  <span class="operator">-</span> <span class="number">0</span>: <span class="keyword">no</span> information will be written <span class="keyword">in</span> SEI</span><br><span class="line">                                  <span class="operator">-</span> <span class="number">1</span>: write x264 information</span><br><span class="line">                                  <span class="operator">-</span> <span class="number">2</span>: write x264 options</span><br><span class="line">                                  <span class="operator">-</span> <span class="number">3</span>: write x264 information <span class="keyword">and</span> options</span><br><span class="line">Muxer <span class="keyword">specific</span>:</span><br><span class="line"> [mp4<span class="operator">/</span><span class="number">3</span>gp<span class="operator">/</span><span class="number">3</span>g2<span class="operator">/</span>mov<span class="operator">/</span>flv]</span><br><span class="line">      <span class="comment">--dts-compress          Eliminate initial delay with container DTS hack</span></span><br><span class="line"> [mp4<span class="operator">/</span><span class="number">3</span>gp<span class="operator">/</span><span class="number">3</span>g2<span class="operator">/</span>mov]</span><br><span class="line">      <span class="comment">--chapter &lt;string&gt;      Set the chapter list from chapter format file</span></span><br><span class="line">      <span class="comment">--chpl-with-bom         Add UTF-8 BOM to the chapter strings</span></span><br><span class="line">                              <span class="keyword">in</span> the chapter list. (experimental)</span><br><span class="line">      <span class="comment">--language &lt;string&gt;     Set the language by ISO639-2/T language codes</span></span><br><span class="line">      <span class="comment">--no-container-sar      Disable sample aspect ratio within the container</span></span><br><span class="line">      <span class="comment">--no-remux              Inhibit auto-remuxing for progressive download</span></span><br><span class="line">      <span class="comment">--force-display-size    Force display region size for video</span></span><br><span class="line">      <span class="comment">--fragments             Enable movie fragments structure</span></span><br><span class="line">      <span class="comment">--priming &lt;integer&gt;     Specify the number of priming samples for the copied audio</span></span><br><span class="line"></span><br><span class="line">Filtering:</span><br><span class="line"></span><br><span class="line">      <span class="comment">--vf, --video-filter &lt;filter0&gt;/&lt;filter1&gt;/... Apply video filtering to the input file</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">Filter</span> options may be specified <span class="keyword">in</span> <span class="operator">&lt;</span><span class="keyword">filter</span><span class="operator">&gt;</span>:<span class="operator">&lt;</span>option<span class="operator">&gt;=</span><span class="operator">&lt;</span><span class="keyword">value</span><span class="operator">&gt;</span> format.</span><br><span class="line"></span><br><span class="line">      Available filters:</span><br><span class="line">      hqdn3d:ls,cs,lt,ct</span><br><span class="line">            Denoises the image <span class="keyword">using</span> mplayer<span class="string">&#x27;s hqdn3d filter</span></span><br><span class="line"><span class="string">            The four arguments are floats and are optional</span></span><br><span class="line"><span class="string">            If any options are omitted, they will assume a</span></span><br><span class="line"><span class="string">            value based on previous options that you did specify</span></span><br><span class="line"><span class="string">            - ls = luma spatial filter strength [4.0]</span></span><br><span class="line"><span class="string">            - cs = chroma spatial filter strength [3.0]</span></span><br><span class="line"><span class="string">            - lt = luma temporal filter strength [6.0]</span></span><br><span class="line"><span class="string">            - ct = chroma temporal filter strength [4.5]</span></span><br><span class="line"><span class="string">      crop:left,top,right,bottom</span></span><br><span class="line"><span class="string">            removes pixels from the edges of the frame</span></span><br><span class="line"><span class="string">      pad:[left][,top][,right][,bottom][,width][,height][,red][,green][,blue]</span></span><br><span class="line"><span class="string">            adds pixels to the frame edge</span></span><br><span class="line"><span class="string">            default values for red, green and blue are 0</span></span><br><span class="line"><span class="string">      resize:[width,height][,sar][,fittobox][,csp][,method]</span></span><br><span class="line"><span class="string">            resizes frames based on the given criteria:</span></span><br><span class="line"><span class="string">            - resolution only: resizes and adapts sar to avoid stretching</span></span><br><span class="line"><span class="string">            - sar only: sets the sar and resizes to avoid stretching</span></span><br><span class="line"><span class="string">            - resolution and sar: resizes to given resolution and sets the sar</span></span><br><span class="line"><span class="string">            - fittobox: resizes the video based on the desired constraints</span></span><br><span class="line"><span class="string">               - width, height, both</span></span><br><span class="line"><span class="string">            - fittobox and sar: same as above except with specified sar</span></span><br><span class="line"><span class="string">            - csp: convert to the given csp. syntax: [name][:depth]</span></span><br><span class="line"><span class="string">               - valid csp names [keep current]: i420, yv12, nv12, i422, yv16, nv16, i444, yv24, bgr, bgra, rgb</span></span><br><span class="line"><span class="string">               - depth: 8 or 16 bits per pixel [keep current]</span></span><br><span class="line"><span class="string">            note: not all depths are supported by all csps.</span></span><br><span class="line"><span class="string">            - method: use resizer method [&quot;bicubic&quot;]</span></span><br><span class="line"><span class="string">               - fastbilinear, bilinear, bicubic, experimental, point,</span></span><br><span class="line"><span class="string">               - area, bicublin, gauss, sinc, lanczos, spline</span></span><br><span class="line"><span class="string">      select_every:step,offset1[,...]</span></span><br><span class="line"><span class="string">            apply a selection pattern to input frames</span></span><br><span class="line"><span class="string">            step: the number of frames in the pattern</span></span><br><span class="line"><span class="string">            offsets: the offset into the step to select a frame</span></span><br><span class="line"><span class="string">            see: http://avisynth.org/mediawiki/Select#SelectEvery</span></span><br><span class="line"><span class="string">      vflip  vertically flips the frame</span></span><br><span class="line"><span class="string">      yadif:[mode][,order]</span></span><br><span class="line"><span class="string">            Deinterlaces the picture using MPlayer&#x27;</span>s yadif</span><br><span class="line">            mode: sets the deinterlacing mode</span><br><span class="line">            <span class="number">0</span> <span class="operator">-</span> single<span class="operator">-</span>rate deinterlacing (<span class="keyword">default</span>)</span><br><span class="line">            <span class="number">1</span> <span class="operator">-</span> <span class="keyword">double</span><span class="operator">-</span>rate deinterlacing (bob)</span><br><span class="line">            <span class="number">2</span> <span class="operator">-</span> single<span class="operator">-</span>rate deinterlacing <span class="keyword">without</span> spacial interlacing <span class="keyword">check</span></span><br><span class="line">            <span class="number">3</span> <span class="operator">-</span> <span class="keyword">double</span><span class="operator">-</span>rate deinterlacing <span class="keyword">without</span> spacial interlacing <span class="keyword">check</span></span><br><span class="line">            <span class="keyword">order</span>: forces the field <span class="keyword">order</span></span><br><span class="line">            tff <span class="operator">-</span> top<span class="operator">-</span>field <span class="keyword">first</span></span><br><span class="line">            bff <span class="operator">-</span> bottom<span class="operator">-</span>field <span class="keyword">first</span></span><br><span class="line">      subtitles:</span><br><span class="line">            renders subtitles <span class="keyword">using</span> VSFilter</span><br><span class="line">            need VSFilter64.dll</span><br><span class="line"></span><br><span class="line">      <span class="comment">--sub &lt;string&gt;          Load subtitles file (used with video filter &quot;subtitles&quot;)</span></span><br><span class="line">                              can be <span class="keyword">called</span> more than once <span class="keyword">to</span> load multiple subtitles</span><br></pre></td></tr></table></figure>
</details>
<!-- /* cSpell:enable */ -->
<br>
<blockquote>
<p>常言道：<br />
码率高低调 <code>crf</code><br />
暗场烂掉调 <code>aq</code><br />
噪点消失加 <code>psy</code><br />
动态糊掉加 <code>qcomp</code></p>
</blockquote>
<h3 id="预设">预设</h3>
<p>方便日常使用，真正压制时手动指定所有选项，不需要加上预设。</p>
<h4 id="profile"><code>--profile</code></h4>
<p><strong>默认：Not Set</strong></p>
<p>强制编码器使用某一档次的能力。该选项将覆盖所有其他选项。</p>
<p>不指定档次或级别时编码器会自动分配，但现在都 1202 年了，不太可能有不支持 AVC High Profile, Level 5.1 的播放器，因此无需指定此选项。值得注意的是，使用 <code>--qp 0</code> 或 <code>--crf 0</code> 制作无损视频时，色度采样无论是 4:2:0、4:2:2 还是 4:4:4，输出视频的档次都是 Hi444PP，并不代表原视频的采样是 4:4:4。</p>
<h4 id="preset"><code>--preset</code></h4>
<p><strong>默认：medium</strong></p>
<p>一组编码设置，让编码器在编码速度和压缩效率之间做权衡。<code>--preset</code> 加在所有选项之前，可被用户指定的选项覆盖。</p>
<p>包括 <code>ultrafast</code>、<code>superfast</code>、<code>veryfast</code>、<code>faster</code>、<code>fast</code>、<code>medium</code>、<code>slow</code>、<code>slower</code>、<code>veryslow</code>、<code>placebo</code>，同码率下开得越高画面越好，编码也越慢，选择能接受的最慢的选项。</p>
<h4 id="tune"><code>--tune</code></h4>
<p><strong>默认：Not Set</strong></p>
<p>根据输入视频的内容类型进一步做优化，该选项加在 <code>--preset</code> 之后，其他选项之前，可被用户指定的选项覆盖。</p>
<p>可选项包括 <code>film</code>、<code>animation</code>、<code>grain</code>、<code>stillimage</code>、<code>psnr</code>、<code>ssim</code>、<code>fastcode</code>、<code>zerolatency</code>，可同时指定多个，但前六个属于 psy tuning，只能选其中一个。</p>
<p>仅在输入视频内容符合以上选项时使用，否则应留空。这里面 <code>animation</code> 是给美式动画用的，对应大面积的单色块、少纹理和光影，不适合现代日式动画。</p>
<h4 id="slow-firstpass"><code>--slow-firstpass</code></h4>
<p>使用 <code>--pass 1</code> 时会引入额外的选项加快 first pass，该选项将禁用这些做法。因为一般用 CRF，因此不用理会此选项。</p>
<h3 id="帧类型-v2">帧类型</h3>
<h4 id="i-keyint"><code>-I, --keyint</code></h4>
<p><strong>默认：250</strong></p>
<p>指定相邻两个 IDR 帧之间的最大距离。可以是整数或者 <code>infinite</code>，后者意味着非场景转换处不会出现 IDR 帧。</p>
<p>IDR 帧的特性使其作为播放跳转的描点，即关键帧。减小 <code>keyint</code> 使得进度条拖动更顺滑。</p>
<h4 id="i-min-keyint"><code>-i, --min-keyint</code></h4>
<p><strong>默认：auto (<code>MIN(--keyint/10,--fps)</code>)</strong></p>
<p>IDR 帧之间的最小距离，该选项最大值为 <code>--keyint/2+1</code>。</p>
<p>如果 IDR 帧之间距离可选的范围太窄，可能导致 IDR 帧放置错误。一个 IDR 帧之后与它距离大于 <code>min-keyint</code> 的 I 帧一定是 IDR 帧。</p>
<p>建议默认，或是一倍帧率。设置 <code>--min-keyint 1</code>，则所有 I 帧都是 IDR 帧。</p>
<h4 id="b-bframes"><code>-b, --bframes</code></h4>
<p><strong>默认：3</strong></p>
<p>连续出现的 B 帧的最大数量。</p>
<p>B 帧最能节省码率，对动画尤其有效，但连续出现 B 帧可能导致欠码。</p>
<p>该参数越高，编码越慢，对动画一般使用 <strong>8~10</strong>。</p>
<h4 id="b-adapt"><code>--b-adapt</code></h4>
<p><strong>默认：1</strong></p>
<p>自适应 B 帧决策方法，指导 <code>x264</code> 决定插入 P 帧还是 B 帧。有以下 3 种方法：</p>
<ul>
<li>0：关闭，总是选择插入 B 帧</li>
<li>1：快速</li>
<li>2：最佳</li>
</ul>
<p>只使用 <strong>2</strong>。</p>
<h4 id="r-ref"><code>-r, --ref</code></h4>
<p><strong>默认：3</strong></p>
<p>参考帧的数量，即解码帧缓冲（Decoded Picture Buffer, DPB）的大小，范围是 0~16。</p>
<p>该参数决定了溯块参考前后帧数半径，即可参考的帧的数量，开的越高编码时间线性增加，收益递减，对 <code>x264</code> 出现在到 8~10 左右，而对 <code>x265</code> 只需要一半。较高的参数值对静态为主或动态为主的场景帮助均不大，对 <code>x264</code> 可以开到 13，而 <code>x265</code> 一般给 3~4。</p>
<h4 id="f-deblock"><code>-f, --deblock</code></h4>
<p><strong>默认：0:0</strong></p>
<p>环路滤波器（loop filter），也称环内去块器（inloop deblocker）的参数。参数前者为侦测到块状瑕疵之后的抹除强度（Alpha Deblocking），后者是判断块状瑕疵的阈值（Beta Deblocking）。</p>
<p>码率有限的情况下宏块划分不够细致，导致画面出现块状瑕疵（block），环路滤波器侦测块状瑕疵的边缘，试图抹除它。</p>
<p>参考<a target="_blank" rel="noopener" href="https://forum.doom9.org/showthread.php?t=109747">这篇 Doom9 帖子</a>详细了解环路滤波器参数的原理。</p>
<p>（根据这个帖子，）两个参数推荐范围为 <strong>-3~3</strong>。Alpha Deblocking 越大，抹除效果越强烈，但画面也越柔和并可能损失细节；Beta Deblocking 越大，deblocking 将向细节更多、更不平整的宏块集中。提升 Beta Deblocking 对去除振铃瑕疵（ringing artifact）有帮助，即对画面不平整的宏块施加更剧烈的抹除；降低 Beta Deblocking 有助于减少 DCT 块状瑕疵且避免画面模糊。</p>
<h3 id="码率控制">码率控制</h3>
<p>编码器一般提供两种码率控制模式：恒定质量（CRF、CQP）和恒定码率（ABR/CBR），一般只使用恒定质量模式（constant quality mode, aka constant ratefactor, CRF）。</p>
<h4 id="q-qp"><code>-q, --qp</code></h4>
<p><strong>默认：Not Set</strong></p>
<p>让编码器使用恒定量化模式（constant quantizer mode, CQP），范围为 0~81，0 表示无损。该选项与 <code>--crf</code> 冲突。量化值越低，输出画面越接近原始画面。CRF 比 CQP 高级，相对也不会太慢，所以不用 CQP 模式。</p>
<h4 id="bitrate"><code>bitrate</code></h4>
<p><strong>默认：Not Set</strong></p>
<p>对应恒定码率模式，编码器尝试控制平均码率，该选项也与 <code>--crf</code> 冲突。只在遇到限制码率场合使用。</p>
<h4 id="crf"><code>crf</code></h4>
<p><strong>默认：23.0</strong></p>
<p>让编码器使用 CRF，尝试确保恒定的画面“质量”。<code>--crf n</code> 试图达到与 <code>--qp n</code> 相同的目视质量，但使用更低的码率。CRF 试图提高复杂度高或者高动态等对观众来说更不容易注意到的画面的量化值，这会降低对这类画面的码率分配，将节省的码率分给对提升目视质量更有效的画面。</p>
<p>CRF 比 2pass 更快，相当于跳过了 'first-pass' 的 2pass，但无法预测最终视频文件的码率。</p>
<p>一般动画 BDRip 会设置到 <strong>16~18</strong>。</p>
<h4 id="vbv-maxrate、-vbv-bufsize"><code>--vbv-maxrate</code>、<code>--vbv-bufsize</code></h4>
<p><strong>默认分别为：0、0</strong></p>
<p>视频缓冲验证（video buffering verifier, VBV）的两个参数。<code>vbv-maxrate</code> 设置填充 VBV 缓冲的最大速度，<code>vbv-bufsize</code> 指 VBV 缓冲的大小，单位为 kilobit。</p>
<p>两个参数的作用在于限制最高码率，可能导致欠码，仅在需要时使用。一般 <code>vbv-bufsize</code> 设置为所需的最高码率，<code>vbv-maxrate</code> 设置为 <code>vbv-bufsize</code> 的 90% 左右。</p>
<h4 id="qpmin、-qpmax、-qpstep"><code>--qpmin</code>、 <code>--qpmax</code>、<code>--qpstep</code></h4>
<p><strong>默认分别为：0、51、4</strong></p>
<p>最低、最高量化值和相邻两帧间量化值的最大差距。</p>
<h4 id="ipratio、-pbratio"><code>--ipratio</code>、<code>--pbratio</code></h4>
<p><strong>默认分别为：1.40、1.30</strong></p>
<p>P 帧与 I 帧、B 帧与 P 帧之间的量化值比例。大致 P 帧的量化值为 I 帧的 1.4 倍，B 帧的量化值为 P 帧的 1.3 倍。使用 <code>mbtree</code> （默认启用）时，<code>--pbratio</code> 无效，该值将被自动设置。</p>
<p>提高 <code>ipratio</code> 提高 I 帧质量，提高 <code>pbratio</code> 降低 B 帧质量。调整参数，如 <code>--pbratio 1.2</code> 防止 B 帧欠码，对 <code>x265</code> 比较重要。</p>
<h4 id="chroma-qp-offset"><code>--chroma-qp-offset</code></h4>
<p><strong>默认：0</strong></p>
<p>对色度平面的量化施加一个偏置，数值可正可负。</p>
<p>设为 -n 即色度平面量化值比亮度平面量化值小 n。<code>x264</code> 在使用 <code>psy-rd</code> 和/或 <code>psy-trellis</code> 时会自动降低该值，以补偿它牺牲色度平面质量来增加亮度平面质量的做法。对 YUV420，该值默认为 -2。</p>
<p>使用默认的 <strong>0</strong> 即可。</p>
<h4 id="aqmode"><code>--aqmode</code></h4>
<p><strong>默认：1</strong></p>
<p>自适应量化（adaptive quantizer, AQ）的模式。</p>
<p><code>x264</code> 倾向于削减细节较少的宏块的码率，例如色块平面、模糊背景的纹理。AQ 的作用是调整宏块的量化值，使码率更合理地分配到所有宏块中，即平衡线条、平面（flat area）和纹理（textured area）的码率分配。</p>
<p>AQ 模式包括：</p>
<ul>
<li>0：不使用 AQ</li>
<li>1：可变 AQ，在帧内分配码率</li>
<li>2：自动可变 AQ（实验性功能），可跨帧使用 AQ</li>
<li>3：自动可变 AQ，mod1，针对暗场优化</li>
<li>4：自动可变 AQ，mod2</li>
</ul>
<p>一般使用模式 <strong>3</strong>。</p>
<h4 id="aq-strength"><code>--aq-strength</code></h4>
<p><strong>默认：1.0</strong></p>
<p>自适应量化的强度，作用是降低平面和纹理出现块状瑕疵或变模糊的程度，非负数。</p>
<p>AQ 强度越大，平面和纹理分到的码率越多，相应的线条得到的码率更少，有烂线的可能。</p>
<p>参考 0.8。</p>
<h4 id="no-mbtree"><code>--no-mbtree</code></h4>
<p><strong>默认: Not Set</strong></p>
<p>关闭宏块树码率控制（macroblock tree ratecontrol, mbtree）。</p>
<p><code>mbtree</code> 跟踪宏块在帧之间的继承情况，为各宏块依据时间上的传递关系分配量化权重。</p>
<p><code>mbtree</code> 对动态多、噪点多、线条锐利的场景效果很好，但对平静的画面起到反效果。</p>
<p>简单理解 <code>--no-mbtree</code> 相当于 <code>crf</code> 降低 1 左右。高码率下最好关闭 <code>mbtree</code> 规避附效果。日常番 + <code>crf</code> 小于 17 可以考虑关，<code>crf</code> 开到 14.5 时就可以关掉 <code>mbtree</code>，然后 <code>crf</code> + 1 继续测试。</p>
<h4 id="qcomp"><code>--qcomp</code></h4>
<p><strong>默认：0.60</strong></p>
<p>量化曲线的压缩系数，指画面变化时量化值变化的灵敏程度。<code>--qcomp 0.0</code> 为恒定码率，<code>--qcomp 1.0</code> 为恒定量化。</p>
<p>该参数越小，画面变化剧烈时量化值变化越灵敏，码率抖动越稳定；该参数越大，量化值变化越缓慢，码率随画面变化剧烈程度变化越明显。使用 <code>mbtree</code> 时同时影响其强度，<code>qcomp</code> 越高，<code>mbtree</code> 越弱。</p>
<p>观感对快速变化的画面不敏感，适当降低该参数可压缩剧烈变化的画面。</p>
<h3 id="分析">分析</h3>
<h4 id="a-partitions"><code>-A, --partitions</code></h4>
<p><strong>默认：p8x8,b8x8,i8x8,i4x4</strong></p>
<p>H.264 将画面划分为 16×16 的宏块，宏块进一步被划分为更小的分区，该选项决定分区类型和大小。分区类型根据帧类型决定，可选项有：</p>
<ul>
<li>I 帧：i8×8、i4×4</li>
<li>P 帧：p8×8（同时启用 p16×8、p8×16）、p4×4（同时启用 p8×4、p4×8）</li>
<li>B 帧：b8×8（同时启用 b16×8、b8×16）</li>
</ul>
<p>也可使用 <code>none</code> 和 <code>all</code>。选 <strong><code>all</code></strong> 让帧内搜索精度最高。</p>
<h4 id="direct"><code>--direct</code></h4>
<p><strong>默认：spatial</strong></p>
<p>设置运动向量搜索模式。<code>none</code> 禁用运动向量，可用的两种模式为 <code>spatial</code> 和 <code>temporal</code>，<code>auto</code> 使 <code>x264</code> 自动选择合适的方法。<code>auto</code> 在 2pass 中效果最佳。仅在 first pass 启用 <code>auto</code> 的情况下才在 second pass 中使用 <code>auto</code>，否则 second pass 默认使用 <code>temporal</code>。</p>
<p>推荐 <code>auto</code>。</p>
<h4 id="me"><code>--me</code></h4>
<p><strong>默认：hex</strong></p>
<p>指定全像素（full-pixel，即完整像素）运动估计方法，参考这篇 <a target="_blank" rel="noopener" href="https://forum.doom9.org/showthread.php?p=693742">Doom9</a> 帖子，有以下五种搜索方法：</p>
<ul>
<li><code>dia</code> (diamond)：菱形搜索，方向为上下左右，一次搜索半径为 1</li>
<li><code>hex</code> (hexagon)：六边形搜索，一次搜素半径为 2</li>
<li><code>umh</code> (uneven multi-hexagon)：非平均多六边形搜索，<code>--merange</code> 选项直接影响该方法的搜索半径</li>
<li><code>esa</code> (exhaustive)：穷举法，在 <code>--merange</code> 指定的范围内搜索所有的运动向量</li>
<li><code>tesa</code> (transformed exhaustive)：哈达马穷举法</li>
</ul>
<p>这些估计方法递归地从当前最佳估计开始，向各可能的方向寻找更佳的运动向量，直到找不到更好的运动向量位为止。按五种方法的次序，它们对运动向量的搜索效果越好，同时速度也越慢。运动向量的搜索对画面影响不大，但更好的算法在同码率下画面可能更好。</p>
<p>在 2021 年，<code>x264</code> 开 <code>tesa</code> 已经是标配了。</p>
<h4 id="merange"><code>--merange</code></h4>
<p><strong>默认：16</strong></p>
<p>全像素运动搜索的范围半径。对 <code>dia</code> 和 <code>hex</code>，取值范围为 4~16。对 <code>umh</code> 以上的方法，可以开到大于 16。</p>
<p>该选项的选择与视频的分辨率和帧率有关。视频分辨率越大，物体在画面上移动相同距离跨域的像素越多，需要搜索范围越大；视频帧率越高，则移动相同距离所花帧数越多，可减小搜索范围。</p>
<p><code>x264</code> 即使在 <code>placebo</code> 预设下 <code>merange</code> 也只有 24，比较适合 720p 视频。对 1080p 视频开到 32~40 是不错的选择。</p>
<h4 id="m-subme"><code>-m, --subme</code></h4>
<p><strong>默认：7</strong></p>
<p>设置次像素运动估计方法，有以下 12 个选项：</p>
<ul>
<li>0：fullpel only (not recommended)</li>
<li>1：SAD mode decision, one qpel iteration</li>
<li>2：SATD mode decision</li>
<li>3-5：Progressively more qpel</li>
<li>6：RD mode decision for I/P-frames</li>
<li>7：RD mode decision for all frames</li>
<li>8：RD refinement for I/P-frames</li>
<li>9：RD refinement for all frames</li>
<li>10：QP-RD (requires <code>--trellis=2</code>, <code>--aq-mode &gt; 0</code>)</li>
<li>11：Full RD: disable all early terminations0. fullpel only</li>
</ul>
<p>开越高运动估计方法越复杂，效果也越好。选默认或更好点的 10。</p>
<h4 id="psy-rd"><code>-psy-rd</code></h4>
<p><strong>默认：1.0:0.0</strong></p>
<p>率失真优化（rate-distortion optimization, RDO）中的心理学视觉优化（psychovisual optimization），根据观感舒适优化画面，而非注重保持 PSNR 和 SSIM。参考这个 <a target="_blank" rel="noopener" href="https://forum.doom9.org/showthread.php?t=138293">Doom9</a> 帖子，PSY 分两部分，其一是 RD，需要 <code>subme &gt;= 6</code>，其二是启用 <code>trellis</code>。</p>
<p>该选项为 PSY-RD 的两个参数。前者是 PSY-RD 的强度，主要负责保留画面纹理；后者是 PSY-Trellis 的强度，在前者的基础上保留噪点和细节。</p>
<p>动画远没有显示录像那么多细节，推荐 <strong>0.6:0.15</strong>。对实录视频可选择 0.7~1.2:0.1~0.2。</p>
<h4 id="no-psy"><code>--no-psy</code></h4>
<p>关闭所有导致 PSNR 和 SSIM 下降的视觉优化。</p>
<h4 id="t-trellis"><code>-t, --trellis</code></h4>
<p><strong>默认：1</strong></p>
<p>开启率失真优化中网格量化部分，有以下 3 种选项：</p>
<ul>
<li>0：关闭</li>
<li>1：仅在宏块最终编码时启用</li>
<li>2：对所有决策启用</li>
</ul>
<p>率失真优化的目的是为了平衡 <code>mbtree</code> 等模式决策让画面变模糊的问题。该选项需要启用 <code>cabac</code>（context adaptive binary arithmetic coder）。率失真优化可阻止画面劣化，但开太高会增大压缩视频的体积。</p>
<p>使用 <strong>2</strong> 即可。</p>
<h3 id="视频播放信息">视频播放信息</h3>
<p>视频播放信息（video usability info）对编码器无用，仅作为对播放器的提示。</p>
<h4 id="range"><code>--range</code></h4>
<p><strong>默认：auto</strong></p>
<p>指定色彩范围，选项有 <code>auto</code>、<code>tv</code> 和 <code>pc</code>。</p>
<h4 id="colorprim"><code>--colorprim</code></h4>
<p><strong>默认：undef</strong></p>
<p>指定 RGB 转换的原色。</p>
<h4 id="transfer"><code>--transfer</code></h4>
<p><strong>默认：undef</strong></p>
<p>指定光-电转换特性，即伽马矫正。</p>
<h4 id="colormatrix"><code>--colormatrix</code></h4>
<p><strong>默认：undef</strong></p>
<p>指定 RGB 到 YUV 转换的矩阵系数。</p>
<p>一般视频都是 <code>bt709</code>，但要注意制作标准不一的 BD 附带特典和 DVD。</p>
<h3 id="输入-输出">输入/输出</h3>
<h4 id="threads"><code>--threads</code></h4>
<p><strong>默认：auto</strong></p>
<p>大于 1 的值启用多线程编码。<code>auto</code> 给处理帧的线程分配 1.5 倍逻辑处理器数量，为处理分块的线程分配 1 倍逻辑处理器数量。速度收益小于线程数量的的线性增加，开太高可能带来微小的画面损失。</p>
</div><div class="article-licensing box"><div class="licensing-title"><p>x264 命令行选项</p><p><a href="https://waferlab.tk/2021/note/Video-Scripting/x264-命令行选项/">https://waferlab.tk/2021/note/Video-Scripting/x264-命令行选项/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>Atlanswer</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2021-12-15</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2021-12-22</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="" rel="noopener" target="_blank" title="CC BY-NC-SA 4.0" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/x264/">x264</a></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2021/note/Video-Scripting/x265-%E5%91%BD%E4%BB%A4%E8%A1%8C%E9%80%89%E9%A1%B9/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">x265 命令行选项</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2021/note/Antenna/Designing-Filtering-Antenna/"><span class="level-item">Designing Filtering Antenna</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/img/avatar.jpg" alt="Atlanswer"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Atlanswer</p><p class="is-size-6 is-block">SEIT</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>SYSU</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">65</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">19</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">39</p></a></div></div></nav><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/atlanswer"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com/atlanswer"><i class="fab fa-twitter"></i></a></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Diary/"><span class="level-start"><span class="level-item">Diary</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Log/"><span class="level-start"><span class="level-item">Log</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Note/"><span class="level-start"><span class="level-item">Note</span></span><span class="level-end"><span class="level-item tag">47</span></span></a><ul><li><a class="level is-mobile" href="/categories/Note/Advanced-Mathematics/"><span class="level-start"><span class="level-item">Advanced Mathematics</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Note/Bioelectronics/"><span class="level-start"><span class="level-item">Bioelectronics</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Note/Design-of-Analog-Integrated-Circuit/"><span class="level-start"><span class="level-item">Design of Analog Integrated Circuit</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Note/Digital-Integrated-Circuit/"><span class="level-start"><span class="level-item">Digital Integrated Circuit</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/Note/Image-Processing/"><span class="level-start"><span class="level-item">Image Processing</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/Note/Language-Reference/"><span class="level-start"><span class="level-item">Language Reference</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Note/Methodology-of-Integrated-Circuit-Design/"><span class="level-start"><span class="level-item">Methodology of Integrated Circuit Design</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Note/Video-Scripting/"><span class="level-start"><span class="level-item">Video Scripting</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Note/Wireless-Communication/"><span class="level-start"><span class="level-item">Wireless Communication</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Note/%E6%96%B0%E6%97%B6%E4%BB%A3%E4%B8%AD%E5%9B%BD%E7%89%B9%E8%89%B2%E7%A4%BE%E4%BC%9A%E4%B8%BB%E4%B9%89%E7%90%86%E8%AE%BA%E4%B8%8E%E5%AE%9E%E8%B7%B5/"><span class="level-start"><span class="level-item">新时代中国特色社会主义理论与实践</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Note/%E9%80%9A%E4%BF%A1%E5%8E%9F%E7%90%86/"><span class="level-start"><span class="level-item">通信原理</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Note/%E9%AB%98%E9%80%9F%E7%94%B5%E8%B7%AF%E8%AE%BE%E8%AE%A1%E4%B8%8E%E4%BF%A1%E5%8F%B7%E5%AE%8C%E6%95%B4%E6%80%A7%E5%88%86%E6%9E%90/"><span class="level-start"><span class="level-item">高速电路设计与信号完整性分析</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Tip/"><span class="level-start"><span class="level-item">Tip</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Tutorial/"><span class="level-start"><span class="level-item">Tutorial</span></span><span class="level-end"><span class="level-item tag">11</span></span></a><ul><li><a class="level is-mobile" href="/categories/Tutorial/Bioinformatics/"><span class="level-start"><span class="level-item">Bioinformatics</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Walk-through/"><span class="level-start"><span class="level-item">Walk-through</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Aegisub/"><span class="tag">Aegisub</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Analog/"><span class="tag">Analog</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/C/"><span class="tag">C#</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/C-C/"><span class="tag">C/C++</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CMOS/"><span class="tag">CMOS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Digital-logic/"><span class="tag">Digital logic</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/HFSS/"><span class="tag">HFSS</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hyper-V/"><span class="tag">Hyper-V</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Info/"><span class="tag">Info</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/OpenCV/"><span class="tag">OpenCV</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/QR-Code/"><span class="tag">QR Code</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ROS/"><span class="tag">ROS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SDR/"><span class="tag">SDR</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/VHDL/"><span class="tag">VHDL</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/YouTube/"><span class="tag">YouTube</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/antenna/"><span class="tag">antenna</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/bandwidth/"><span class="tag">bandwidth</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/changelog/"><span class="tag">changelog</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/cmake/"><span class="tag">cmake</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/config/"><span class="tag">config</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/electronic/"><span class="tag">electronic</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/fading/"><span class="tag">fading</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/impedance/"><span class="tag">impedance</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/info/"><span class="tag">info</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/limit/"><span class="tag">limit</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/model/"><span class="tag">model</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/normal-distribution/"><span class="tag">normal distribution</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/robot/"><span class="tag">robot</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/sensor/"><span class="tag">sensor</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/sequence/"><span class="tag">sequence</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/subtitle/"><span class="tag">subtitle</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/syllabus/"><span class="tag">syllabus</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/transcript/"><span class="tag">transcript</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/wave-guide/"><span class="tag">wave guide</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/x264/"><span class="tag">x264</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/x265/"><span class="tag">x265</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%AF%BE%E7%A8%8B%E7%9B%AE%E5%BD%95/"><span class="tag">课程目录</span><span class="tag">5</span></a></div></div></div></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://tohrux.github.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Tohru</span></span><span class="level-right"><span class="level-item tag">tohrux.github.io</span></span></a></li><li><a class="level is-mobile" href="https://genening.github.io/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Genening</span></span><span class="level-right"><span class="level-item tag">genening.github.io</span></span></a></li><li><a class="level is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile" href="https://bulma.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bulma</span></span><span class="level-right"><span class="level-item tag">bulma.io</span></span></a></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">Catalogue</h3><ul class="menu-list"><li><a class="level is-mobile" href="#advanced-video-coding"><span class="level-left"><span class="level-item">1</span><span class="level-item">Advanced Video Coding</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#功能"><span class="level-left"><span class="level-item">1.1</span><span class="level-item">功能</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#帧类型"><span class="level-left"><span class="level-item">1.1.1</span><span class="level-item">帧类型</span></span></a></li><li><a class="level is-mobile" href="#gop"><span class="level-left"><span class="level-item">1.1.2</span><span class="level-item">GOP</span></span></a></li><li><a class="level is-mobile" href="#宏块"><span class="level-left"><span class="level-item">1.1.3</span><span class="level-item">宏块</span></span></a></li><li><a class="level is-mobile" href="#idr-帧"><span class="level-left"><span class="level-item">1.1.4</span><span class="level-item">IDR 帧</span></span></a></li><li><a class="level is-mobile" href="#帧和场"><span class="level-left"><span class="level-item">1.1.5</span><span class="level-item">帧和场</span></span></a></li><li><a class="level is-mobile" href="#帧间预测"><span class="level-left"><span class="level-item">1.1.6</span><span class="level-item">帧间预测</span></span></a></li><li><a class="level is-mobile" href="#帧内编码"><span class="level-left"><span class="level-item">1.1.7</span><span class="level-item">帧内编码</span></span></a></li></ul></li><li><a class="level is-mobile" href="#profiles"><span class="level-left"><span class="level-item">1.2</span><span class="level-item">Profiles</span></span></a></li><li><a class="level is-mobile" href="#levels"><span class="level-left"><span class="level-item">1.3</span><span class="level-item">Levels</span></span></a></li></ul></li><li><a class="level is-mobile" href="#x264-命令行参数"><span class="level-left"><span class="level-item">2</span><span class="level-item">x264 命令行参数</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#预设"><span class="level-left"><span class="level-item">2.1</span><span class="level-item">预设</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#profile"><span class="level-left"><span class="level-item">2.1.1</span><span class="level-item">--profile</span></span></a></li><li><a class="level is-mobile" href="#preset"><span class="level-left"><span class="level-item">2.1.2</span><span class="level-item">--preset</span></span></a></li><li><a class="level is-mobile" href="#tune"><span class="level-left"><span class="level-item">2.1.3</span><span class="level-item">--tune</span></span></a></li><li><a class="level is-mobile" href="#slow-firstpass"><span class="level-left"><span class="level-item">2.1.4</span><span class="level-item">--slow-firstpass</span></span></a></li></ul></li><li><a class="level is-mobile" href="#帧类型-v2"><span class="level-left"><span class="level-item">2.2</span><span class="level-item">帧类型</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#i-keyint"><span class="level-left"><span class="level-item">2.2.1</span><span class="level-item">-I, --keyint</span></span></a></li><li><a class="level is-mobile" href="#i-min-keyint"><span class="level-left"><span class="level-item">2.2.2</span><span class="level-item">-i, --min-keyint</span></span></a></li><li><a class="level is-mobile" href="#b-bframes"><span class="level-left"><span class="level-item">2.2.3</span><span class="level-item">-b, --bframes</span></span></a></li><li><a class="level is-mobile" href="#b-adapt"><span class="level-left"><span class="level-item">2.2.4</span><span class="level-item">--b-adapt</span></span></a></li><li><a class="level is-mobile" href="#r-ref"><span class="level-left"><span class="level-item">2.2.5</span><span class="level-item">-r, --ref</span></span></a></li><li><a class="level is-mobile" href="#f-deblock"><span class="level-left"><span class="level-item">2.2.6</span><span class="level-item">-f, --deblock</span></span></a></li></ul></li><li><a class="level is-mobile" href="#码率控制"><span class="level-left"><span class="level-item">2.3</span><span class="level-item">码率控制</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#q-qp"><span class="level-left"><span class="level-item">2.3.1</span><span class="level-item">-q, --qp</span></span></a></li><li><a class="level is-mobile" href="#bitrate"><span class="level-left"><span class="level-item">2.3.2</span><span class="level-item">bitrate</span></span></a></li><li><a class="level is-mobile" href="#crf"><span class="level-left"><span class="level-item">2.3.3</span><span class="level-item">crf</span></span></a></li><li><a class="level is-mobile" href="#vbv-maxrate、-vbv-bufsize"><span class="level-left"><span class="level-item">2.3.4</span><span class="level-item">--vbv-maxrate、--vbv-bufsize</span></span></a></li><li><a class="level is-mobile" href="#qpmin、-qpmax、-qpstep"><span class="level-left"><span class="level-item">2.3.5</span><span class="level-item">--qpmin、 --qpmax、--qpstep</span></span></a></li><li><a class="level is-mobile" href="#ipratio、-pbratio"><span class="level-left"><span class="level-item">2.3.6</span><span class="level-item">--ipratio、--pbratio</span></span></a></li><li><a class="level is-mobile" href="#chroma-qp-offset"><span class="level-left"><span class="level-item">2.3.7</span><span class="level-item">--chroma-qp-offset</span></span></a></li><li><a class="level is-mobile" href="#aqmode"><span class="level-left"><span class="level-item">2.3.8</span><span class="level-item">--aqmode</span></span></a></li><li><a class="level is-mobile" href="#aq-strength"><span class="level-left"><span class="level-item">2.3.9</span><span class="level-item">--aq-strength</span></span></a></li><li><a class="level is-mobile" href="#no-mbtree"><span class="level-left"><span class="level-item">2.3.10</span><span class="level-item">--no-mbtree</span></span></a></li><li><a class="level is-mobile" href="#qcomp"><span class="level-left"><span class="level-item">2.3.11</span><span class="level-item">--qcomp</span></span></a></li></ul></li><li><a class="level is-mobile" href="#分析"><span class="level-left"><span class="level-item">2.4</span><span class="level-item">分析</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#a-partitions"><span class="level-left"><span class="level-item">2.4.1</span><span class="level-item">-A, --partitions</span></span></a></li><li><a class="level is-mobile" href="#direct"><span class="level-left"><span class="level-item">2.4.2</span><span class="level-item">--direct</span></span></a></li><li><a class="level is-mobile" href="#me"><span class="level-left"><span class="level-item">2.4.3</span><span class="level-item">--me</span></span></a></li><li><a class="level is-mobile" href="#merange"><span class="level-left"><span class="level-item">2.4.4</span><span class="level-item">--merange</span></span></a></li><li><a class="level is-mobile" href="#m-subme"><span class="level-left"><span class="level-item">2.4.5</span><span class="level-item">-m, --subme</span></span></a></li><li><a class="level is-mobile" href="#psy-rd"><span class="level-left"><span class="level-item">2.4.6</span><span class="level-item">-psy-rd</span></span></a></li><li><a class="level is-mobile" href="#no-psy"><span class="level-left"><span class="level-item">2.4.7</span><span class="level-item">--no-psy</span></span></a></li><li><a class="level is-mobile" href="#t-trellis"><span class="level-left"><span class="level-item">2.4.8</span><span class="level-item">-t, --trellis</span></span></a></li></ul></li><li><a class="level is-mobile" href="#视频播放信息"><span class="level-left"><span class="level-item">2.5</span><span class="level-item">视频播放信息</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#range"><span class="level-left"><span class="level-item">2.5.1</span><span class="level-item">--range</span></span></a></li><li><a class="level is-mobile" href="#colorprim"><span class="level-left"><span class="level-item">2.5.2</span><span class="level-item">--colorprim</span></span></a></li><li><a class="level is-mobile" href="#transfer"><span class="level-left"><span class="level-item">2.5.3</span><span class="level-item">--transfer</span></span></a></li><li><a class="level is-mobile" href="#colormatrix"><span class="level-left"><span class="level-item">2.5.4</span><span class="level-item">--colormatrix</span></span></a></li></ul></li><li><a class="level is-mobile" href="#输入-输出"><span class="level-left"><span class="level-item">2.6</span><span class="level-item">输入/输出</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#threads"><span class="level-left"><span class="level-item">2.6.1</span><span class="level-item">--threads</span></span></a></li></ul></li></ul></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-12-21T16:00:00.000Z">2021-12-22</time></p><p class="title"><a href="/2021/note/Video-Scripting/x265-%E5%91%BD%E4%BB%A4%E8%A1%8C%E9%80%89%E9%A1%B9/">x265 命令行选项</a></p><p class="categories"><a href="/categories/Note/">Note</a> / <a href="/categories/Note/Video-Scripting/">Video Scripting</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-12-14T16:00:00.000Z">2021-12-15</time></p><p class="title"><a href="/2021/note/Video-Scripting/x264-%E5%91%BD%E4%BB%A4%E8%A1%8C%E9%80%89%E9%A1%B9/">x264 命令行选项</a></p><p class="categories"><a href="/categories/Note/">Note</a> / <a href="/categories/Note/Video-Scripting/">Video Scripting</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-12-14T06:52:53.000Z">2021-12-14</time></p><p class="title"><a href="/2021/note/Antenna/Designing-Filtering-Antenna/">Designing Filtering Antenna</a></p><p class="categories"><a href="/categories/Note/">Note</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-12-11T16:00:00.000Z">2021-12-12</time></p><p class="title"><a href="/2021/note/HFSS/HFSS-Cheat-Sheet/">HFSS Cheat Sheet</a></p><p class="categories"><a href="/categories/Note/">Note</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-11-29T13:44:57.000Z">2021-11-29</time></p><p class="title"><a href="/2021/note/ArchLinux-on-Windows-Subsystem-for-Linux/">ArchLinux on Windows Subsystem for Linux</a></p><p class="categories"><a href="/categories/Note/">Note</a></p></div></article></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/favicon.ico" alt="Atlanswer&#039;s blog" height="28"></a><p class="is-size-7"><span>&copy; 2021 Atlanswer</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: false,
                    fold: ''
                }
            }
        };</script><script src="/js/column.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/mhchem.min.js" defer></script><script>window.addEventListener("load", function() {
            document.querySelectorAll('[role="article"] > .content').forEach(function(element) {
                renderMathInElement(element);
            });
        });</script><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>